<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Branch  Reference</title>
    <link rel="stylesheet" type="text/css" href="css/jazzy.css" />
    <link rel="stylesheet" type="text/css" href="css/highlight.css" />
    <meta charset='utf-8'>
    <script src="js/jquery.min.js" defer></script>
    <script src="js/jazzy.js" defer></script>
    
  </head>
  <body>
    <a title="Branch  Reference"></a>
    <header>
      <div class="content-wrapper">
        <p><a href="index.html">Branch Docs</a> (11% documented)</p>
        <p class="header-right"><a href="https://github.com/BranchMetrics/Branch-SDK-Mac"><img src="img/gh.png"/>View on GitHub</a></p>
      </div>
    </header>
    <div class="content-wrapper">
      <p id="breadcrumbs">
        <a href="index.html">Branch Reference</a>
        <img id="carat" src="img/carat.png" />
        Branch  Reference
      </p>
    </div>
    <div class="content-wrapper">
      <nav class="sidebar">
        <ul class="nav-groups">
          <li class="nav-group-name">
            <a href="Categories.html">Categories</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Categories/NSError_28Branch_29.html">NSError(Branch)</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Classes.html">Classes</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Classes/Branch.html">Branch</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/BranchConfiguration.html">BranchConfiguration</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/BranchContentMetadata.html">BranchContentMetadata</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/BranchEvent.html">BranchEvent</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/BranchLinkProperties.html">BranchLinkProperties</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/BranchSession.html">BranchSession</a>
              </li>
              <li class="nav-group-task">
                <a href="Classes/BranchUniversalObject.html">BranchUniversalObject</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Constants.html">Constants</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyAED">BNCCurrencyAED</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyAFN">BNCCurrencyAFN</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyALL">BNCCurrencyALL</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyAMD">BNCCurrencyAMD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyANG">BNCCurrencyANG</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyAOA">BNCCurrencyAOA</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyARS">BNCCurrencyARS</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyAUD">BNCCurrencyAUD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyAWG">BNCCurrencyAWG</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyAZN">BNCCurrencyAZN</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBAM">BNCCurrencyBAM</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBBD">BNCCurrencyBBD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBDT">BNCCurrencyBDT</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBGN">BNCCurrencyBGN</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBHD">BNCCurrencyBHD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBIF">BNCCurrencyBIF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBMD">BNCCurrencyBMD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBND">BNCCurrencyBND</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBOB">BNCCurrencyBOB</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBOV">BNCCurrencyBOV</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBRL">BNCCurrencyBRL</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBSD">BNCCurrencyBSD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBTN">BNCCurrencyBTN</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBWP">BNCCurrencyBWP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBYN">BNCCurrencyBYN</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBYR">BNCCurrencyBYR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyBZD">BNCCurrencyBZD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCAD">BNCCurrencyCAD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCDF">BNCCurrencyCDF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCHE">BNCCurrencyCHE</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCHF">BNCCurrencyCHF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCHW">BNCCurrencyCHW</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCLF">BNCCurrencyCLF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCLP">BNCCurrencyCLP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCNY">BNCCurrencyCNY</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCOP">BNCCurrencyCOP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCOU">BNCCurrencyCOU</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCRC">BNCCurrencyCRC</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCUC">BNCCurrencyCUC</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCUP">BNCCurrencyCUP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCVE">BNCCurrencyCVE</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyCZK">BNCCurrencyCZK</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyDJF">BNCCurrencyDJF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyDKK">BNCCurrencyDKK</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyDOP">BNCCurrencyDOP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyDZD">BNCCurrencyDZD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyEGP">BNCCurrencyEGP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyERN">BNCCurrencyERN</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyETB">BNCCurrencyETB</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyEUR">BNCCurrencyEUR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyFJD">BNCCurrencyFJD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyFKP">BNCCurrencyFKP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyGBP">BNCCurrencyGBP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyGEL">BNCCurrencyGEL</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyGHS">BNCCurrencyGHS</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyGIP">BNCCurrencyGIP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyGMD">BNCCurrencyGMD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyGNF">BNCCurrencyGNF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyGTQ">BNCCurrencyGTQ</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyGYD">BNCCurrencyGYD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyHKD">BNCCurrencyHKD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyHNL">BNCCurrencyHNL</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyHRK">BNCCurrencyHRK</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyHTG">BNCCurrencyHTG</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyHUF">BNCCurrencyHUF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyIDR">BNCCurrencyIDR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyILS">BNCCurrencyILS</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyINR">BNCCurrencyINR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyIQD">BNCCurrencyIQD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyIRR">BNCCurrencyIRR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyISK">BNCCurrencyISK</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyJMD">BNCCurrencyJMD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyJOD">BNCCurrencyJOD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyJPY">BNCCurrencyJPY</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyKES">BNCCurrencyKES</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyKGS">BNCCurrencyKGS</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyKHR">BNCCurrencyKHR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyKMF">BNCCurrencyKMF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyKPW">BNCCurrencyKPW</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyKRW">BNCCurrencyKRW</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyKWD">BNCCurrencyKWD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyKYD">BNCCurrencyKYD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyKZT">BNCCurrencyKZT</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyLAK">BNCCurrencyLAK</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyLBP">BNCCurrencyLBP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyLKR">BNCCurrencyLKR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyLRD">BNCCurrencyLRD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyLSL">BNCCurrencyLSL</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyLYD">BNCCurrencyLYD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMAD">BNCCurrencyMAD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMDL">BNCCurrencyMDL</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMGA">BNCCurrencyMGA</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMKD">BNCCurrencyMKD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMMK">BNCCurrencyMMK</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMNT">BNCCurrencyMNT</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMOP">BNCCurrencyMOP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMRO">BNCCurrencyMRO</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMUR">BNCCurrencyMUR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMVR">BNCCurrencyMVR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMWK">BNCCurrencyMWK</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMXN">BNCCurrencyMXN</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMXV">BNCCurrencyMXV</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMYR">BNCCurrencyMYR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyMZN">BNCCurrencyMZN</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyNAD">BNCCurrencyNAD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyNGN">BNCCurrencyNGN</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyNIO">BNCCurrencyNIO</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyNOK">BNCCurrencyNOK</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyNPR">BNCCurrencyNPR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyNZD">BNCCurrencyNZD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyOMR">BNCCurrencyOMR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyPAB">BNCCurrencyPAB</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyPEN">BNCCurrencyPEN</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyPGK">BNCCurrencyPGK</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyPHP">BNCCurrencyPHP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyPKR">BNCCurrencyPKR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyPLN">BNCCurrencyPLN</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyPYG">BNCCurrencyPYG</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyQAR">BNCCurrencyQAR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyRON">BNCCurrencyRON</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyRSD">BNCCurrencyRSD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyRUB">BNCCurrencyRUB</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyRWF">BNCCurrencyRWF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySAR">BNCCurrencySAR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySBD">BNCCurrencySBD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySCR">BNCCurrencySCR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySDG">BNCCurrencySDG</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySEK">BNCCurrencySEK</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySGD">BNCCurrencySGD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySHP">BNCCurrencySHP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySLL">BNCCurrencySLL</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySOS">BNCCurrencySOS</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySRD">BNCCurrencySRD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySSP">BNCCurrencySSP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySTD">BNCCurrencySTD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySYP">BNCCurrencySYP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencySZL">BNCCurrencySZL</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyTHB">BNCCurrencyTHB</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyTJS">BNCCurrencyTJS</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyTMT">BNCCurrencyTMT</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyTND">BNCCurrencyTND</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyTOP">BNCCurrencyTOP</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyTRY">BNCCurrencyTRY</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyTTD">BNCCurrencyTTD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyTWD">BNCCurrencyTWD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyTZS">BNCCurrencyTZS</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyUAH">BNCCurrencyUAH</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyUGX">BNCCurrencyUGX</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyUSD">BNCCurrencyUSD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyUSN">BNCCurrencyUSN</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyUYI">BNCCurrencyUYI</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyUYU">BNCCurrencyUYU</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyUZS">BNCCurrencyUZS</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyVEF">BNCCurrencyVEF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyVND">BNCCurrencyVND</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyVUV">BNCCurrencyVUV</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyWST">BNCCurrencyWST</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXAF">BNCCurrencyXAF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXAG">BNCCurrencyXAG</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXAU">BNCCurrencyXAU</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXBA">BNCCurrencyXBA</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXBB">BNCCurrencyXBB</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXBC">BNCCurrencyXBC</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXBD">BNCCurrencyXBD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXCD">BNCCurrencyXCD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXDR">BNCCurrencyXDR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXFU">BNCCurrencyXFU</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXOF">BNCCurrencyXOF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXPD">BNCCurrencyXPD</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXPF">BNCCurrencyXPF</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXPT">BNCCurrencyXPT</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXSU">BNCCurrencyXSU</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXTS">BNCCurrencyXTS</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXUA">BNCCurrencyXUA</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyXXX">BNCCurrencyXXX</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyYER">BNCCurrencyYER</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyZAR">BNCCurrencyZAR</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCCurrencyZMW">BNCCurrencyZMW</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCErrorDomain">BNCErrorDomain</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryAnimalSupplies">BNCProductCategoryAnimalSupplies</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryApparel">BNCProductCategoryApparel</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryArtsEntertainment">BNCProductCategoryArtsEntertainment</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryBabyToddler">BNCProductCategoryBabyToddler</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryBusinessIndustrial">BNCProductCategoryBusinessIndustrial</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryCamerasOptics">BNCProductCategoryCamerasOptics</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryElectronics">BNCProductCategoryElectronics</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryFoodBeverageTobacco">BNCProductCategoryFoodBeverageTobacco</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryFurniture">BNCProductCategoryFurniture</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryHardware">BNCProductCategoryHardware</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryHealthBeauty">BNCProductCategoryHealthBeauty</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryHomeGarden">BNCProductCategoryHomeGarden</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryLuggageBags">BNCProductCategoryLuggageBags</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryMature">BNCProductCategoryMature</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryMedia">BNCProductCategoryMedia</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryOfficeSupplies">BNCProductCategoryOfficeSupplies</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryReligious">BNCProductCategoryReligious</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategorySoftware">BNCProductCategorySoftware</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategorySportingGoods">BNCProductCategorySportingGoods</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryToysGames">BNCProductCategoryToysGames</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BNCProductCategoryVehiclesParts">BNCProductCategoryVehiclesParts</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchConditionExcellent">BranchConditionExcellent</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchConditionFair">BranchConditionFair</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchConditionGood">BranchConditionGood</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchConditionNew">BranchConditionNew</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchConditionOther">BranchConditionOther</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchConditionPoor">BranchConditionPoor</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchConditionRefurbished">BranchConditionRefurbished</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchConditionUsed">BranchConditionUsed</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaCommerceAuction">BranchContentSchemaCommerceAuction</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaCommerceBusiness">BranchContentSchemaCommerceBusiness</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaCommerceOther">BranchContentSchemaCommerceOther</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaCommerceProduct">BranchContentSchemaCommerceProduct</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaCommerceRestaurant">BranchContentSchemaCommerceRestaurant</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaCommerceService">BranchContentSchemaCommerceService</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaCommerceTravelFlight">BranchContentSchemaCommerceTravelFlight</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaCommerceTravelHotel">BranchContentSchemaCommerceTravelHotel</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaCommerceTravelOther">BranchContentSchemaCommerceTravelOther</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaGameState">BranchContentSchemaGameState</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaMediaImage">BranchContentSchemaMediaImage</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaMediaMixed">BranchContentSchemaMediaMixed</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaMediaMusic">BranchContentSchemaMediaMusic</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaMediaOther">BranchContentSchemaMediaOther</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaMediaVideo">BranchContentSchemaMediaVideo</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaOther">BranchContentSchemaOther</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaTextArticle">BranchContentSchemaTextArticle</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaTextBlog">BranchContentSchemaTextBlog</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaTextOther">BranchContentSchemaTextOther</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaTextRecipe">BranchContentSchemaTextRecipe</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaTextReview">BranchContentSchemaTextReview</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaTextSearchResults">BranchContentSchemaTextSearchResults</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaTextStory">BranchContentSchemaTextStory</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchContentSchemaTextTechnicalDoc">BranchContentSchemaTextTechnicalDoc</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchDidOpenURLWithSessionNotification">BranchDidOpenURLWithSessionNotification</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchDidStartSessionNotification">BranchDidStartSessionNotification</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchErrorKey">BranchErrorKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchSessionKey">BranchSessionKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventAchieveLevel">BranchStandardEventAchieveLevel</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventAddPaymentInfo">BranchStandardEventAddPaymentInfo</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventAddToCart">BranchStandardEventAddToCart</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventAddToWishlist">BranchStandardEventAddToWishlist</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventCompleteRegistration">BranchStandardEventCompleteRegistration</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventCompleteTutorial">BranchStandardEventCompleteTutorial</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventInitiatePurchase">BranchStandardEventInitiatePurchase</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventPurchase">BranchStandardEventPurchase</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventRate">BranchStandardEventRate</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventSearch">BranchStandardEventSearch</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventShare">BranchStandardEventShare</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventSpendCredits">BranchStandardEventSpendCredits</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventUnlockAchievement">BranchStandardEventUnlockAchievement</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventViewCart">BranchStandardEventViewCart</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventViewItem">BranchStandardEventViewItem</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchStandardEventViewItems">BranchStandardEventViewItems</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchURLKey">BranchURLKey</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchVersionNumber">BranchVersionNumber</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchVersionString">BranchVersionString</a>
              </li>
              <li class="nav-group-task">
                <a href="Constants.html#/c:@BranchWillStartSessionNotification">BranchWillStartSessionNotification</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Enums.html">Enumerations</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Enums/BNCErrorCode.html">BNCErrorCode</a>
              </li>
              <li class="nav-group-task">
                <a href="Enums/BranchLinkType.html">BranchLinkType</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Protocols.html">Protocols</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Protocols/BNCNetworkOperationProtocol.html">BNCNetworkOperationProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/BNCNetworkServiceProtocol.html">BNCNetworkServiceProtocol</a>
              </li>
              <li class="nav-group-task">
                <a href="Protocols/BranchDelegate.html">BranchDelegate</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Type Definitions.html">Type Definitions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Type Definitions.html#/c:BranchCommerce.h@T@BNCCurrency">BNCCurrency</a>
              </li>
              <li class="nav-group-task">
                <a href="Type Definitions.html#/c:BranchCommerce.h@T@BNCProductCategory">BNCProductCategory</a>
              </li>
              <li class="nav-group-task">
                <a href="Type Definitions.html#/c:BranchUniversalObject.h@T@BranchCondition">BranchCondition</a>
              </li>
              <li class="nav-group-task">
                <a href="Type Definitions.html#/c:BranchUniversalObject.h@T@BranchContentSchema">BranchContentSchema</a>
              </li>
              <li class="nav-group-task">
                <a href="Type Definitions.html#/c:BranchEvent.h@T@BranchStandardEvent">BranchStandardEvent</a>
              </li>
            </ul>
          </li>
          <li class="nav-group-name">
            <a href="Functions.html">Functions</a>
            <ul class="nav-group-tasks">
              <li class="nav-group-task">
                <a href="Functions.html#/c:@F@BNCCurrencyAllCurrencies">BNCCurrencyAllCurrencies</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/c:@F@BNCForceNSErrorCategoryToLoad">BNCForceNSErrorCategoryToLoad</a>
              </li>
              <li class="nav-group-task">
                <a href="Functions.html#/c:@F@BNCProductCategoryAllCategories">BNCProductCategoryAllCategories</a>
              </li>
            </ul>
          </li>
        </ul>
      </nav>
      <article class="main-content">
        <section>
          <section class="section">
            
            <p><a href="https://github.com/Carthage/Carthage"><img src="https://img.shields.io/badge/Carthage-compatible-4BC51D.svg?style=flat" alt="Carthage compatible"></a>
<a href="https://raw.githubusercontent.com/hyperium/hyper/master/LICENSE"><img src="https://img.shields.io/badge/license-MIT-blue.svg" alt="MIT licensed"></a></p>
<h2 id='what-39-s-new' class='heading'>What&rsquo;s New</h2>
<h3 id='we-are-starting-an-sdk-beta-test-program-at-branch' class='heading'>We are starting an SDK beta test program at Branch!</h3>

<p>Get priority updates and receive swag when you sign up and participate in the beta program.</p>

<p><a href="https://github.com/BranchMetrics/ios-branch-deep-linking/wiki/The-Branch-SDK-Beta-Project">Read about the Branch SDK Beta Program</a><br/>
<a href="https://docs.google.com/a/branch.io/forms/d/1fbXVFG11i-sQkd9pzHUu-U3B2qCBuwA64pVnsTQwQMo">Sign up for the Branch SDK Beta Program</a></p>
<h1 id='branch-metrics-ios-sdk-reference' class='heading'>Branch Metrics iOS SDK Reference</h1>

<p>This is a repository of our open source iOS SDK, and the information presented here serves as a reference manual for our iOS SDK. See the table of contents below for a complete list of the content featured in this document.</p>

<hr>
<h2 id='ios-reference' class='heading'>iOS Reference</h2>

<ol>
<li><p>External resources</p>

<ul>
<li><a href="https://dev.branch.io/getting-started/sdk-integration-guide/guide/ios/">Full integration guide</a></li>
<li><a href="https://github.com/BranchMetrics/ios-branch-deep-linking/blob/master/ChangeLog.md">Change log</a></li>
<li><a href="https://dev.branch.io/getting-started/integration-testing/guide/ios/">Testing resources</a></li>
<li><a href="http://support.branch.io">Support portal</a></li>
<li><a href="#get-the-demo-app">Test app resources</a></li>
</ul></li>
<li><p>Getting started</p>

<ul>
<li><a href="#installation">Library installation</a></li>
<li><a href="#register-your-app">Register for Branch key</a></li>
<li><a href="#add-your-branch-key-to-your-project">Add your Branch key</a></li>
<li><a href="#register-a-uri-scheme">Register a URI scheme</a></li>
<li><a href="#support-universal-linking">Support Universal Links</a></li>
</ul></li>
<li><p>Branch general methods</p>

<ul>
<li><a href="#get-a-singleton-branch-instance">Get a Branch singleton</a></li>
<li><a href="#init-branch-session-and-deep-link-routing-function">Initialize Branch and register deep link router</a></li>
<li><a href="#register-a-deep-link-controller">Register view controller for auto deep linking</a></li>
<li><a href="#retrieve-session-install-or-open-parameters">Retrieve latest deep linking params</a></li>
<li><a href="#retrieve-install-install-only-parameters">Retrieve the user&rsquo;s first deep linking params</a></li>
<li><a href="#persistent-identities">Setting the user id for tracking influencers</a></li>
<li><a href="#logout">Logging a user out</a></li>
<li><a href="#tracking-user-actions-and-events">Tracking user actions and events</a></li>
<li><a href="#apple-search-ads">Apple Search Ad Attribution</a></li>
<li><a href="#enable-or-disable-user-tracking">Enable or Disable User Tracking</a></li>
</ul></li>
<li><p>Branch Universal Objects</p>

<ul>
<li><a href="#branch-universal-object">Instantiate a Branch Universal Object</a></li>
<li><a href="#tracking-user-interactions-with-an-object">Tracking user interactions with an object</a></li>
<li><a href="#list-content-on-spotlight">List content on Spotlight</a></li>
<li><a href="link-properties-parameters">Configuring link properties</a></li>
<li><a href="#shortened-links">Creating a short link referencing the object</a></li>
<li><a href="#uiactivityview-share-sheet">Triggering a share sheet to share a link</a></li>
</ul></li>
<li><p>Referral rewards methods</p>

<ul>
<li><a href="#get-reward-balance">Get reward balance</a></li>
<li><a href="#redeem-all-or-some-of-the-reward-balance-store-state">Redeem rewards</a></li>
<li><a href="#get-credit-history">Get credit history</a></li>
</ul></li>
</ol>

<hr>
<h2 id='get-the-demo-app' class='heading'>Get the Demo App</h2>

<p>There&rsquo;s a full demo app embedded in this repository, but you can also check out our live demo: <a href="https://itunes.apple.com/us/app/id917737838">Branch Monster Factory</a>. We&rsquo;ve <a href="https://github.com/BranchMetrics/Branchster-iOS">open sourced the Branchster&rsquo;s app</a> as well if you&rsquo;re ready to dig in.</p>
<h2 id='installation' class='heading'>Installation</h2>

<p><em>The iOS SDK footprint is 220kb by itself.</em></p>
<h3 id='available-in-cocoapods' class='heading'>Available in CocoaPods</h3>

<p>Branch is available through <a href="http://cocoapods.org">CocoaPods</a>. To install it, simply add the following line to your Podfile:</p>
<pre class="highlight objective_c"><code><span class="n">pod</span> <span class="err">'</span><span class="n">Branch</span><span class="err">'</span>
</code></pre>

<p>Then, from the command line, <code>cd</code> to your project directory, and do:</p>
<pre class="highlight plaintext"><code>pod install
pod update
</code></pre>

<p>to install the Branch pod and update it to the latest version of the SDK.</p>

<p>Make sure to do the <code>pod update</code>.  CocoaPods may not use the latest version of the SDK otherwise!</p>
<h3 id='carthage' class='heading'>Carthage</h3>

<p>To integrate Branch into your project using Carthage add the following to your <code>Cartfile</code>:</p>
<pre class="highlight ruby"><code><span class="n">github</span> <span class="s2">"BranchMetrics/ios-branch-deep-linking"</span>
</code></pre>
<h3 id='download-the-raw-files' class='heading'>Download the Raw Files</h3>

<p>You can also install by downloading the raw files below.</p>

<ul>
<li><p>Download code from here:
<a href="https://s3-us-west-1.amazonaws.com/branchhost/Branch-iOS-SDK.zip">https://s3-us-west-1.amazonaws.com/branchhost/Branch-iOS-SDK.zip</a></p></li>
<li><p>The testbed project:
<a href="https://s3-us-west-1.amazonaws.com/branchhost/Branch-iOS-TestBed.zip">https://s3-us-west-1.amazonaws.com/branchhost/Branch-iOS-TestBed.zip</a></p></li>
</ul>
<h5 id='adding-the-raw-files-branch-sdk-to-your-project' class='heading'>Adding the Raw Files Branch SDK to Your Project</h5>

<p>If you want to add the Branch SDK directly without using Cocoapods or Carthage, add Branch as a dynamic framework dependency to your project.</p>

<p>I&rsquo;ll add Branch to the project &lsquo;BareBones&rsquo; as an example:</p>

<ol>
<li><p>Download or git clone the Branch SDK files to your computer.</p></li>
<li><p>If you&rsquo;ve already added Branch to your project, remove it.</p></li>
<li><p>In the Xcode project navigator view, select your project, right click, and select &lsquo;Add files to <q>\<your project name\></q>&hellip;&rsquo;</p>

<p><img src="docs/images/AddBranchProject-1-AddFiles.png" alt="Add Files..." title="Add Files..."></p></li>
<li><p>The &lsquo;Add&rsquo; file chooser will open.  Navigate to your &lsquo;ios-branch-deep-linking &gt; carthage-files&rsquo; directory and select the BranchSDK.xcodeproj project.</p>

<p><img src="docs/images/AddBranchProject-2-Choose-BranchSDK.png" alt="Add BranchSDK.xcodeproj" title="Add BranchSDK.xcodeproj"></p>

<p>Xcode will add BranchSDK.xcodeproj to your project.</p></li>
<li><p>In your project, reveal the &lsquo;BranchSDK.xcodeproj &gt; Products&rsquo; hierarchy. Then drag the Branch.framework product to the &lsquo;Embedded Binaries&rsquo; section of your build product.</p>

<p><img src="docs/images/AddBranchProject-3-Add-Framework.gif" alt="Embed Binary" title="Embed Binary"></p></li>
<li><p>Done! You can click on Build Phases of your project to make sure that Branch was added as a Target Dependency and is copied as an Embedded Framework.</p>

<p><img src="docs/images/AddBranchProject-4-BuildPhase.png" alt="Check Build Phase" title="Check Build Phase"></p></li>
</ol>
<h3 id='register-your-app' class='heading'>Register Your App</h3>

<p>You can sign up for your own app id at <a href="https://dashboard.branch.io">https://dashboard.branch.io</a>.</p>
<h3 id='add-your-branch-key-to-your-project' class='heading'>Add Your Branch Key to Your Project</h3>

<p>After you register your app, your Branch Key can be retrieved on the <a href="https://dashboard.branch.io/#/settings">Settings</a> page of the dashboard. Now you need to add it to YourProject-Info.plist (Info.plist for Swift).</p>

<ol>
<li>In plist file, mouse hover <q>Information Property List,</q> which is the root item under the Key column.</li>
<li>After about half a second, you will see a <q>+</q> sign appear. Click it.</li>
<li>In the newly added row, fill in <q>branch_key</q> for its key, leave type as String, and enter your app&rsquo;s Branch Key obtained in above steps in the value column.</li>
<li>Save the plist file.</li>
</ol>

<p><img src="docs/images/branch-key-plist.png" alt="Branch Key Demo">
If you want to add a key for both your live and test apps at the same time, you need change the type column to Dictionary, and add two entries inside:</p>

<ol>
<li>For live app, use <q>live</q> (without double quotes) for key, String for type, and your live branch key for value.</li>
<li>For test app, use <q>test</q> (without double quotes) for key, String for type, and your test branch key for value.</li>
</ol>

<p><img src="docs/images/branch-multi-key-plist.png" alt="Branch Multi Key Demo"></p>

<p>Note: If you used Fabric to install Branch as a kit, your Branch keys will be in your Info.plist as an element under the Fabric &gt; Kits array, like this:</p>

<p><img src="docs/images/branch-fabric-key-plist.png" alt="Branch Fabric Keys"></p>
<h3 id='register-a-uri-scheme' class='heading'>Register a URI Scheme</h3>

<p>Register your app to respond to direct deep links (yourapp:// in a mobile browser) by adding a URI scheme in the YourProject-Info.plist file. Make sure to change <strong>yourapp</strong> to a unique string that represents your app name.</p>

<ol>
<li>In Xcode, click on YourProject-Info.plist on the left.</li>
<li>Find URL Types and click the right arrow. (If it doesn&rsquo;t exist, right click anywhere and choose Add Row. Scroll down and choose URL Types).</li>
<li>Add <q>yourapp,</q> where yourapp is a unique string for your app, as an item in URL Schemes as below.</li>
</ol>

<p><em>Caution: Your apps URI scheme must be the first scheme defined (item 0) in the list.</em></p>

<p>If you have multiple schemes defined, such as a Facebook login URI, make your app&rsquo;s URI scheme the first one in the list so the Branch SDK knows the URI specific to your app.</p>

<p><img src="https://s3-us-west-1.amazonaws.com/branchhost/urlScheme.png" alt="URL Scheme Demo"></p>

<p>Alternatively, you can add the URI scheme in your project&rsquo;s Info page.</p>

<ol>
<li>In Xcode, click your project in the Navigator (on the left side).</li>
<li>Select the <q>Info</q> tab.</li>
<li>Expand the <q>URL Types</q> section at the bottom.</li>
<li>Click the <q>+</q> sign to add a new URI Scheme, as below:</li>
</ol>

<p><img src="https://s3-us-west-1.amazonaws.com/branchhost/urlType.png" alt="URL Scheme Demo"></p>
<h3 id='support-universal-linking-ios-9-and-above' class='heading'>Support Universal Linking (iOS 9 and Above)</h3>

<p>With iOS 9, Apple has added the ability to allow http links to directly open your app, rather than using the URI Schemes. This can be a pain to set up, as it involves a complicated process on your server. The good news is that Branch does this work for you with just two steps!</p>

<ol>
<li>In Xcode, click on your project in the Navigator (on the left side).</li>
<li>Select the <q>Capabilities</q> tab.</li>
<li>Expand the <q>Associated Domains</q> tab.</li>
<li>Enable the setting (toggle the switch).</li>
<li>Add <code>applinks:xxxx.app.link</code> and <code>applinks:xxxx-alternate.app.link</code> to the list. Make sure <code>xxxx</code> matches the 4 character subdomain for your app (you can find it on the <a href="https://dashboard.branch.io/#/settings/link">dashboard here</a>). If you use a custom subdomain, use that in place of the x&rsquo;s (eg <code>imgur.app.link</code> and <code>imgur-alternate.app.link</code>).</li>
<li>Add any additional custom domains you have (e.g. <code>applinks:vng.io</code>)</li>
</ol>

<p><img src="docs/images/xcode-ul-enable.png" alt="Xcode Enable UL"></p>

<ol>
<li>On the Dashboard, navigate to your app&rsquo;s link settings page.</li>
<li>Check the &ldquo;Enable Universal Links</li>
<li>Ensure that your Apple Team ID and app Bundle ID are correct (we try to auto-harvest these for you).</li>
<li>Be sure to save these settings updates.</li>
</ol>

<p><img src="docs/images/dashboard-ul-enable.png" alt="Dashboard Enable UL"></p>
<h4 id='custom-domain-name-configuration-required-if-you-don-39-t-use-the-branch-provided-xxxx-app-link-domain' class='heading'>Custom Domain Name Configuration (Required if you don&rsquo;t use the Branch provided xxxx.app.link domain)</h4>

<p>Branch provides a xxxx.app.link domain for your app, but you can use your own custom domain for app links instead. If you <em>do</em> use your own custom domain for your universal app links, you need to add it to your Info.plist.</p>

<p>Add the <code>branch_universal_link_domains</code> key with your custom domain as a string value:</p>

<p><img src="docs/images/custom-domain.png" alt="Custom Domain Info.plist"></p>
<h4 id='uri-scheme-considerations' class='heading'>URI Scheme Considerations</h4>

<p>The Branch SDK will pull the first URI Scheme from your list that is not one of <code>fb</code>, <code>db</code>, or <code>pin</code>. This value will be used one time to set the iOS URI Scheme under your Link Settings in the Branch Dashboard.</p>

<p>For additional help configuring the SDK, including step-by-step instructions, please see the <a href="https://docs.branch.io/pages/apps/ios/">iOS Quickstart Guide</a>.</p>
<h3 id='get-a-singleton-branch-instance' class='heading'>Get a Singleton Branch Instance</h3>

<p>All Branch methods require an instance of the main Branch object. Here&rsquo;s how you can get one. It&rsquo;s stored statically and is accessible from any class.</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="n">Branch</span> <span class="o">*</span><span class="n">branch</span> <span class="o">=</span> <span class="p">[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">branch</span><span class="p">:</span> <span class="kt">Branch</span> <span class="o">=</span> <span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span>
</code></pre>
<h5 id='testing' class='heading'>Testing</h5>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="cp">#warning Remove for launch
</span><span class="p">[</span><span class="n">Branch</span> <span class="nf">setUseTestBranchKey</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="c1">//TODO: Remove for launch</span>
<span class="kt">Branch</span><span class="o">.</span><span class="n">useTestBranchKey</span> <span class="o">=</span> <span class="kc">true</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>Branch key</strong> (NSString *) <em>optional</em>
: If you don&rsquo;t store the Branch key in the plist file, you have the option of passing this key as an argument.</p>
<h3 id='init-branch-session-and-deep-link-routing-function' class='heading'>Init Branch Session and Deep Link Routing Function</h3>

<p>To deep link, Branch must initialize a session to check if the user originated from a link. This call will initialize a new session <em>every time the app opens</em>. 100% of the time the app opens, it will call the deep link handling block to inform you whether the user came from a link. If your app opens with keys in the params, you&rsquo;ll want to route the user depending on the data you passed in. Otherwise, send them to a generic screen.</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="k">-</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">application</span><span class="p">:(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didFinishLaunchingWithOptions</span><span class="p">:(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">launchOptions</span> <span class="p">{</span>
    <span class="n">Branch</span> <span class="o">*</span><span class="n">branch</span> <span class="o">=</span> <span class="p">[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">];</span>
    <span class="p">[</span><span class="n">branch</span> <span class="nf">initSessionWithLaunchOptions</span><span class="p">:</span><span class="n">launchOptions</span> <span class="nf">andRegisterDeepLinkHandler</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">params</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// route the user based on what's in params
</span>    <span class="p">}];</span>
    <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">application</span><span class="p">:(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">openURL</span><span class="p">:(</span><span class="n">NSURL</span> <span class="o">*</span><span class="p">)</span><span class="nv">url</span> <span class="nf">sourceApplication</span><span class="p">:(</span><span class="n">NSString</span> <span class="o">*</span><span class="p">)</span><span class="nv">sourceApplication</span> <span class="nf">annotation</span><span class="p">:(</span><span class="n">id</span><span class="p">)</span><span class="nv">annotation</span> <span class="p">{</span>

    <span class="n">BOOL</span> <span class="n">branchHandled</span> <span class="o">=</span>
        <span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span>
            <span class="nf">application</span><span class="p">:</span><span class="n">application</span>
                <span class="nf">openURL</span><span class="p">:</span><span class="n">url</span>
      <span class="nl">sourceApplication:</span><span class="n">sourceApplication</span>
             <span class="nl">annotation:</span><span class="n">annotation</span><span class="p">];</span>

    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">branchHandled</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// do other deep link routing for the Facebook SDK, Pinterest SDK, etc
</span>    <span class="p">}</span>
    <span class="k">return</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="n">BOOL</span><span class="p">)</span><span class="nf">application</span><span class="p">:(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">continueUserActivity</span><span class="p">:(</span><span class="n">NSUserActivity</span> <span class="o">*</span><span class="p">)</span><span class="nv">userActivity</span> <span class="nf">restorationHandler</span><span class="p">:(</span><span class="kt">void</span> <span class="p">(</span><span class="o">^</span><span class="p">)(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">restorableObjects</span><span class="p">))</span><span class="nv">restorationHandler</span> <span class="p">{</span>
    <span class="n">BOOL</span> <span class="n">handledByBranch</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">continueUserActivity</span><span class="p">:</span><span class="n">userActivity</span><span class="p">];</span>

    <span class="k">return</span> <span class="n">handledByBranch</span><span class="p">;</span>
<span class="p">}</span>

<span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span><span class="nf">application</span><span class="p">:(</span><span class="n">UIApplication</span> <span class="o">*</span><span class="p">)</span><span class="nv">application</span> <span class="nf">didReceiveRemoteNotification</span><span class="p">:(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="nv">userInfo</span> <span class="p">{</span>
    <span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">handlePushNotification</span><span class="p">:</span><span class="n">userInfo</span><span class="p">];</span>
<span class="p">}</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didFinishLaunchingWithOptions</span> <span class="nv">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="kt">UIApplicationLaunchOptionsKey</span><span class="p">:</span> <span class="kt">Any</span><span class="p">]?)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
  <span class="k">let</span> <span class="nv">branch</span><span class="p">:</span> <span class="kt">Branch</span> <span class="o">=</span> <span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span>
  <span class="n">branch</span><span class="p">?</span><span class="o">.</span><span class="nf">initSession</span><span class="p">(</span><span class="nv">launchOptions</span><span class="p">:</span> <span class="n">launchOptions</span><span class="p">,</span> <span class="nv">deepLinkHandler</span><span class="p">:</span> <span class="p">{</span> <span class="n">params</span><span class="p">,</span> <span class="n">error</span> <span class="k">in</span>
    <span class="k">if</span> <span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="c1">// params are the deep linked params associated with the link that the user clicked -&gt; was re-directed to this app</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"params: %@"</span><span class="p">,</span> <span class="n">params</span><span class="o">.</span><span class="n">description</span><span class="p">)</span>
    <span class="p">}</span>
   <span class="p">})</span>
  <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="kd">open</span> <span class="nv">url</span><span class="p">:</span> <span class="kt">URL</span><span class="p">,</span> <span class="nv">sourceApplication</span><span class="p">:</span> <span class="kt">String</span><span class="p">?,</span> <span class="nv">annotation</span><span class="p">:</span> <span class="kt">Any</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>

    <span class="c1">// Pass the url to the handle deep link call</span>
    <span class="k">let</span> <span class="nv">branchHandled</span> <span class="o">=</span> <span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">application</span><span class="p">(</span><span class="n">application</span><span class="p">,</span>
        <span class="nv">open</span><span class="p">:</span> <span class="n">url</span><span class="p">,</span>
        <span class="nv">sourceApplication</span><span class="p">:</span> <span class="n">sourceApplication</span><span class="p">,</span>
        <span class="nv">annotation</span><span class="p">:</span> <span class="n">annotation</span>
    <span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">branchHandled</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// If not handled by Branch, do other deep link routing for the</span>
        <span class="c1">// Facebook SDK, Pinterest SDK, etc</span>
    <span class="p">}</span>

    <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="k">continue</span> <span class="nv">userActivity</span><span class="p">:</span> <span class="kt">NSUserActivity</span><span class="p">,</span> <span class="nv">restorationHandler</span><span class="p">:</span> <span class="kd">@escaping</span> <span class="p">([</span><span class="kt">Any</span><span class="p">]?)</span> <span class="o">-&gt;</span> <span class="kt">Void</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="kt">Bool</span> <span class="p">{</span>
    <span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">continue</span><span class="p">(</span><span class="n">userActivity</span><span class="p">)</span>

    <span class="k">return</span> <span class="kc">true</span>
<span class="p">}</span>

<span class="kd">func</span> <span class="nf">application</span><span class="p">(</span><span class="n">_</span> <span class="nv">application</span><span class="p">:</span> <span class="kt">UIApplication</span><span class="p">,</span> <span class="n">didReceiveRemoteNotification</span> <span class="nv">launchOptions</span><span class="p">:</span> <span class="p">[</span><span class="kt">AnyHashable</span><span class="p">:</span> <span class="kt">Any</span><span class="p">])</span> <span class="o">-&gt;</span> <span class="kt">Void</span> <span class="p">{</span>
    <span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">handlePushNotification</span><span class="p">(</span><span class="n">launchOptions</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>

<p>Note:  If your application delegate declares the method:</p>
<pre class="highlight plaintext"><code>- (BOOL) application:willFinishLaunchingWithOptions:
</code></pre>

<p>In Swift:</p>
<pre class="highlight plaintext"><code>optional func application(_ application: UIApplication, willFinishLaunchingWithOptions launchOptions: [UIApplicationLaunchOptionsKey : Any]? = nil) -&gt; Bool
</code></pre>

<p>it must return <code>YES</code> for Branch to work.</p>
<h4 id='parameters' class='heading'>Parameters</h4>
<h6 id='initsession' class='heading'>initSession</h6>

<p><strong>launchOptions</strong> (NSDictionary *) <em>required</em>
: These launch options are passed to Branch through didFinishLaunchingWithOptions and will notify us if the user originated from a URI call or not. If the app was opened from a URI like myapp://, we need to follow a special initialization routine.</p>

<p><strong>deepLinkHandler</strong> ^(NSDictionary *params, NSError *error) <em>optional</em>
: This is the callback block that Branch will execute after a network call to determine where the user comes from. It is called 100% of the time the app opens up since Branch registers for lifecycle notifications.</p>

<ul>
<li><em>NSDictionary *params</em> : These params will contain any data associated with the Branch link that was clicked before the app session began. There are a few keys which are always present:

<ul>
<li>&lsquo;+is_first_session&rsquo; Denotes whether this is the first session (install) or any other session (open)</li>
<li>&lsquo;+clicked_branch_link&rsquo; Denotes whether or not the user clicked a Branch link that triggered this session</li>
</ul></li>
<li><em>NSError *error</em> : This error will be nil unless there is an error such as connectivity or otherwise. Check !error to confirm it was a valid link.

<ul>
<li>BNCServerProblemError There was an issue connecting to the Branch service</li>
<li>BNCBadRequestError The request was improperly formatted</li>
</ul></li>
</ul>

<p>Branch returns explicit parameters every time. Here is a list, and a description of what each represents.</p>

<ul>
<li><code>~</code> denotes analytics</li>
<li><code>+</code> denotes information added by Branch</li>
<li>(for the curious, <code>$</code> denotes reserved keywords used for controlling how the Branch service behaves)</li>
</ul>

<table><thead>
<tr>
<th><strong>Parameter</strong></th>
<th><strong>Meaning</strong></th>
</tr>
</thead><tbody>
<tr>
<td>~channel</td>
<td>The channel on which the link was shared, specified at link creation time</td>
</tr>
<tr>
<td>~feature</td>
<td>The feature, such as <code>invite</code> or <code>share</code>, specified at link creation time</td>
</tr>
<tr>
<td>~tags</td>
<td>Any tags, specified at link creation time</td>
</tr>
<tr>
<td>~campaign</td>
<td>The campaign the link is associated with, specified at link creation time</td>
</tr>
<tr>
<td>~stage</td>
<td>The stage, specified at link creation time</td>
</tr>
<tr>
<td>~creation_source</td>
<td>Where the link was created (&lsquo;API&rsquo;, &lsquo;Dashboard&rsquo;, &lsquo;SDK&rsquo;, &lsquo;iOS SDK&rsquo;, &lsquo;Android SDK&rsquo;, or &lsquo;Web SDK&rsquo;)</td>
</tr>
<tr>
<td>+match_guaranteed</td>
<td>True or false as to whether the match was made with 100% accuracy</td>
</tr>
<tr>
<td>+referrer</td>
<td>The referrer for the link click, if a link was clicked</td>
</tr>
<tr>
<td>+phone_number</td>
<td>The phone number of the user, if the user texted himself/herself the app</td>
</tr>
<tr>
<td>+is_first_session</td>
<td>Denotes whether this is the first session (install) or any other session (open)</td>
</tr>
<tr>
<td>+clicked_branch_link</td>
<td>Denotes whether or not the user clicked a Branch link that triggered this session</td>
</tr>
<tr>
<td>+click_timestamp</td>
<td>Epoch timestamp of when the click occurred</td>
</tr>
</tbody></table>

<p><strong>isReferrable</strong> (BOOL) <em>optional</em>
: This boolean lets you control whether or not the user is eligible to be &lsquo;referred&rsquo;. This is applicable for credits and influencer tracking. If isReferrable is set to NO | false, and the user clicks a link before entering the app, deep link parameters will appear, but that user will <em>not</em> be considered referred. If isReferrable is set to YES | true, and the user clicks a link, deep link params will appear and the user <em>will</em> be considered referred. Remove this argument to access the default, which only allows the user to be referred on a <em>fresh install</em>, but not on opens.</p>

<p><strong>automaticallyDisplayDeepLinkController</strong> (BOOL) <em>optional</em>
: This boolean lets you control whether or not the Branch should attempt to launch Deep Linked controllers (based on those registered with <code>[branch registerDeepLinkController:forKey:]</code>). The default is NO | false.</p>
<h6 id='handledeeplink' class='heading'>handleDeepLink</h6>

<p><strong>url</strong> (NSString *) <em>required</em>
: This argument passes us the URI string so that we can parse the extra parameters. For example, &lsquo;myapp://open?link_click_id=12345&rsquo;.</p>
<h6 id='continueuseractivity' class='heading'>continueUserActivity</h6>

<p><strong>userActivity</strong> (NSUserActivity *) <em>required</em>
: This argument passes us the user activity so that we can parse the originating URL.</p>
<h4 id='returns' class='heading'>Returns</h4>
<h6 id='initsession' class='heading'>initSession</h6>

<p>Nothing</p>
<h6 id='handledeeplink' class='heading'>handleDeepLink</h6>

<p><strong>BOOL</strong> handleDeepLink will return a boolean indicating whether Branch has handled the URI. If the URI call is &lsquo;myapp://open?link_click_id=12345&rsquo;, then handleDeepLink will return YES because the Branch click object is present. If just &lsquo;myapp://&rsquo;, handleDeepLink will return NO.</p>
<h6 id='continueuseractivity' class='heading'>continueUserActivity</h6>

<p><strong>BOOL</strong> continueUserActivity will return a boolean indicating whether Branch has handled the Universal Link. If Universal Link is powered by Branch, then continueUserActivity will return YES because the Branch click object is present.</p>

<p>If you use your own custom universal link domain, make sure you add it your Info.plist under the <code>branch_universal_link_domains</code> key as described <a href="#custom-domain-name-configuration">here</a> or this method may erroneously return <code>NO</code> when in fact the universal link will be opened.</p>
<h3 id='register-a-deep-link-controller' class='heading'>Register a Deep Link Controller</h3>

<p>Register a controller for Branch to show when specific keys are present in the Branch open / install dictionary. This is the mechanism to handle auto deep linking and should be called before <code>initSession</code>.</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">registerDeepLinkController</span><span class="p">:</span><span class="n">myController</span> <span class="nf">forKey</span><span class="p">:</span><span class="s">@"my-key"</span> <span class="n">withPresentation</span><span class="o">:</span><span class="n">BNCViewControllerOptionShow</span><span class="p">];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">registerDeepLinkController</span><span class="p">(</span><span class="n">myController</span> <span class="nv">forKey</span><span class="p">:</span><span class="s">"my-key"</span> <span class="nv">withPresentation</span><span class="p">:</span> <span class="o">.</span><span class="n">optionShow</span><span class="p">)</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>controller</strong> (UIViewController <BranchDeepLinkingController> *) <em>required</em>
: The controller to display when the key is present in the dictionary.</p>

<p><strong>key</strong> (NSString *) <em>required</em>
: The key checked for in open / install dictionaries.</p>

<p><strong>Option</strong> (BNCViewControllerPresentationOption) <em>required</em>
| <strong>Option</strong> | <strong>Meaning</strong>
| &mdash; | &mdash;
| BNCViewControllerOptionShow | This option pushes view controller onto the navigation stack in a similar way as the showViewController
| BNCViewControllerOptionPush | This option pushes view controller onto the navigation stack in a similar way as the pushViewController
| BNCViewControllerOptionPresent | This option presents view controller onto the root view controller of window in a similar way as the presentViewController</p>
<h4 id='returns' class='heading'>Returns</h4>

<p>Nothing</p>
<h3 id='retrieve-session-install-or-open-parameters' class='heading'>Retrieve session (install or open) parameters</h3>

<p>These session parameters will be available at any point later on with this command. If no parameters are available then Branch will return an empty dictionary. This refreshes with every new session (app installs AND app opens).</p>

<p>Warning: If the Branch SDK is retrieving the latest session parameters via a network call, this method will return the <em>previous</em> session&rsquo;s parameters.  The best practice is to set a callback deep link handler at Branch initialization.  That handler will be called when a Branch deep link is handled and the most recent session parameters are available.</p>

<p>Otherwise, use the <code>getLatestReferringParamsSynchronous</code> method. This method always returns the latest session parameters.  The downside is that is may block the calling thread until the current results are available.</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="c1">// This is an example of `getLatestReferringParams`.
// Warning: It may return the previous results.
</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">sessionParams</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">getLatestReferringParams</span><span class="p">];</span>

<span class="c1">// This is an example of `getLatestReferringParamsSynchronous`.
// Warning: It may block the current thread until the latest results are available.
</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">sessionParams</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">getLatestReferringParamsSynchronous</span><span class="p">];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="c1">// This is an example of `getLatestReferringParams`.</span>
<span class="c1">// Warning: It may return the previous results.</span>
<span class="k">let</span> <span class="nv">sessionParams</span> <span class="o">=</span> <span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">getLatestReferringParams</span><span class="p">()</span>

<span class="c1">// This is an example of `getLatestReferringParamsSynchronous`.</span>
<span class="c1">// Warning: It may block the current thread until the latest results are available.</span>
<span class="k">let</span> <span class="nv">sessionParams</span> <span class="o">=</span> <span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">getLatestReferringParamsSynchronous</span><span class="p">()</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p>None</p>
<h4 id='returns' class='heading'>Returns</h4>

<p><code>NSDictionary*</code></p>

<p>When initSession returns a parameter set in the deep link callback, we store it in NSUserDefaults for the duration of the session in case you want to retrieve it later. Careful, once the app is minimized and the session ends, this will be cleared.</p>
<h3 id='retrieve-install-install-only-parameters' class='heading'>Retrieve Install (Install Only) Parameters</h3>

<p>If you ever want to access the original session params (the parameters passed in for the first install event only), you can use this line. This is useful if you only want to reward users who newly installed the app from a referral link. Note that these parameters can be updated when <code>setIdentity:</code> is called and identity merging occurs.</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="n">NSDictionary</span> <span class="o">*</span><span class="n">installParams</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">getFirstReferringParams</span><span class="p">];</span> <span class="c1">// previously getInstallReferringParams
</span></code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">installParams</span> <span class="o">=</span> <span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">getFirstReferringParams</span><span class="p">()</span> <span class="c1">// previously getInstallReferringParams</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p>None</p>
<h3 id='persistent-identities' class='heading'>Persistent Identities</h3>

<p>Often, you might have your own user IDs, or want referral and event data to persist across platforms or uninstall/reinstall. It&rsquo;s helpful if you know your users access your service from different devices. This where we introduce the concept of an &lsquo;identity&rsquo;.</p>
<h4 id='methods' class='heading'>Methods</h4>

<p>To identify a user, just call:</p>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="c1">// previously identifyUser:
</span><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">setIdentity</span><span class="p">:</span><span class="n">your</span> <span class="n">user</span> <span class="n">id</span><span class="p">];</span>    <span class="c1">// your user id should not exceed 127 characters
</span></code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="c1">// previously identifyUser:</span>
<span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">setIdentity</span><span class="p">(</span><span class="n">your</span> <span class="n">user</span> <span class="n">id</span><span class="p">)</span>  <span class="c1">// your user id should not exceed 127 characters</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>identity</strong> (NSString *) <em>required</em>
: This is the alias you&rsquo;d like to label your user in the Branch system. Note that we only support a single alias per user.</p>
<h3 id='logout' class='heading'>Logout</h3>

<p>If you provide a logout function in your app, be sure to clear the user when the logout completes. This will ensure that all the stored parameters get cleared and all events are properly attributed to the right identity.</p>

<p><strong>Warning</strong>: This call will clear the promo credits and attribution on the device.</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">logout</span><span class="p">];</span>  <span class="c1">// previously clearUser
</span></code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">logout</span><span class="p">()</span>   <span class="c1">// previously clearUser</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p>None</p>
<h3 id='tracking-user-actions-and-events' class='heading'>Tracking User Actions and Events</h3>

<p>Use the <code><a href="Classes/BranchEvent.html">BranchEvent</a></code> interface to track special user actions or application specific events beyond app installs, opens, and sharing. You can track events such as when a user adds an item to an on-line shopping cart, or searches for a keyword, among others.</p>

<p>The <code><a href="Classes/BranchEvent.html">BranchEvent</a></code> interface provides an interface to add contents represented by BranchUniversalObject in order to associate app contents with events.</p>

<p>Analytics about your app&rsquo;s BranchEvents can be found on the Branch dashboard, and BranchEvents also provide tight integration with many third party analytics providers.</p>

<p>The <code><a href="Classes/BranchEvent.html">BranchEvent</a></code> class can be simple to use. For example:</p>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[</span><span class="n">BranchEvent</span><span class="p">.</span><span class="n">standardEvent</span><span class="p">(</span><span class="n">BranchStandardEventAddToCart</span><span class="p">)</span> <span class="nf">logEvent</span><span class="p">];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kt">BranchEvent</span><span class="o">.</span><span class="nf">standardEvent</span><span class="p">(</span><span class="o">.</span><span class="n">addToCart</span><span class="p">)</span><span class="o">.</span><span class="nf">logEvent</span><span class="p">()</span>
</code></pre>

<p>For best results use the Branch standard event names defined in <code>BranchEvent.h</code>. But you can use your own custom event names too:</p>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[</span><span class="n">BranchEvent</span><span class="p">.</span><span class="n">customEventWithName</span><span class="p">(</span><span class="s">@"User_Scanned_Item"</span><span class="p">)</span> <span class="nf">logEvent</span><span class="p">];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kt">BranchEvent</span><span class="o">.</span><span class="nf">customEventWithName</span><span class="p">(</span><span class="s">"User_Scanned_Item"</span><span class="p">)</span><span class="o">.</span><span class="nf">logEvent</span><span class="p">()</span>
</code></pre>

<p>Extra event specific data can be tracked with the event as well:</p>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="n">BranchEvent</span> <span class="o">*</span><span class="n">event</span>    <span class="o">=</span> <span class="p">[</span><span class="n">BranchEvent</span> <span class="nf">standardEvent</span><span class="p">:</span><span class="n">BranchStandardEventPurchase</span><span class="p">];</span>
<span class="n">event</span><span class="p">.</span><span class="n">transactionID</span>   <span class="o">=</span> <span class="s">@"tx-12344555"</span><span class="p">;</span>
<span class="n">event</span><span class="p">.</span><span class="n">currency</span>        <span class="o">=</span> <span class="n">BNCCurrencyUSD</span><span class="p">;</span>
<span class="n">event</span><span class="p">.</span><span class="n">revenue</span>         <span class="o">=</span> <span class="p">[</span><span class="n">NSDecimalNumber</span> <span class="nf">decimalNumberWithString</span><span class="p">:</span><span class="s">@"12.70"</span><span class="p">];</span>
<span class="n">event</span><span class="p">.</span><span class="n">shipping</span>        <span class="o">=</span> <span class="p">[</span><span class="n">NSDecimalNumber</span> <span class="nf">decimalNumberWithString</span><span class="p">:</span><span class="s">@"10.20"</span><span class="p">];</span>
<span class="n">event</span><span class="p">.</span><span class="n">tax</span>             <span class="o">=</span> <span class="p">[</span><span class="n">NSDecimalNumber</span> <span class="nf">decimalNumberWithString</span><span class="p">:</span><span class="s">@"2.50"</span><span class="p">];</span>
<span class="n">event</span><span class="p">.</span><span class="n">coupon</span>          <span class="o">=</span> <span class="s">@"coupon_code"</span><span class="p">;</span>
<span class="n">event</span><span class="p">.</span><span class="n">affiliation</span>     <span class="o">=</span> <span class="s">@"store_affiliation"</span><span class="p">;</span>
<span class="n">event</span><span class="p">.</span><span class="n">eventDescription</span><span class="o">=</span> <span class="s">@"Shopper made a purchase."</span><span class="p">;</span>
<span class="n">event</span><span class="p">.</span><span class="n">searchQuery</span>     <span class="o">=</span> <span class="s">@"Fashion Scarf"</span><span class="p">;</span>
<span class="n">event</span><span class="p">.</span><span class="n">contentItems</span>    <span class="o">=</span> <span class="p">@[</span> <span class="n">branchUniversalObject</span> <span class="p">];</span>
<span class="n">event</span><span class="p">.</span><span class="n">customData</span>      <span class="o">=</span> <span class="p">(</span><span class="n">NSMutableDictionary</span><span class="o">*</span><span class="p">)</span> <span class="p">@{</span>
    <span class="s">@"Item_Color"</span><span class="o">:</span> <span class="s">@"Red"</span><span class="p">,</span>
    <span class="s">@"Item_Size"</span><span class="o">:</span>  <span class="s">@"Large"</span>
<span class="p">};</span>
<span class="p">[</span><span class="n">event</span> <span class="nf">logEvent</span><span class="p">];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight plaintext"><code>let event = BranchEvent.standardEvent(.purchase)
event.transactionID    = "tx-12344555"
event.currency         = .USD
event.revenue          = 12.70
event.shipping         = 10.20
event.tax              = 2.50
event.coupon           = "coupon_code"
event.affiliation      = "store_affiliation"
event.eventDescription = "Shopper made a purchase."
event.searchQuery      = "Fashion Scarf"
event.contentItems     = [ branchUniversalObject ]
event.customData       = [
    "Item_Color": "Red",
    "Item_Size":  "Large"
]
event.logEvent()
</code></pre>
<h3 id='register-custom-events-deprecated' class='heading'>Register Custom Events (Deprecated)</h3>

<p>The old <code>userCompletedAction:</code> methods of tracking user actions and events are deprecated and will go away eventually. Use the new <code><a href="Classes/BranchEvent.html">BranchEvent</a></code> to track user actions instead, as described above.</p>

<p>Here is the legacy documentation:</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c-deprecated' class='heading'>Objective-C (Deprecated)</h6>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">userCompletedAction</span><span class="p">:</span><span class="s">@"your_custom_event"</span><span class="p">];</span> <span class="c1">// your custom event name should not exceed 63 characters
</span></code></pre>
<h6 id='swift-deprecated' class='heading'>Swift (Deprecated)</h6>
<pre class="highlight swift"><code><span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">userCompletedAction</span><span class="p">(</span><span class="s">"your_custom_event"</span><span class="p">)</span> <span class="c1">// your custom event name should not exceed 63 characters</span>
</code></pre>

<p>OR if you want to store some state with the event:</p>
<h6 id='objective-c-deprecated' class='heading'>Objective-C (Deprecated)</h6>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">userCompletedAction</span><span class="p">:</span><span class="s">@"your_custom_event"</span> <span class="nf">withState</span><span class="p">:(</span><span class="n">NSDictionary</span> <span class="o">*</span><span class="p">)</span><span class="n">appState</span><span class="p">];</span> <span class="c1">// same 63 characters max limit
</span></code></pre>
<h6 id='swift-deprecated' class='heading'>Swift (Deprecated)</h6>
<pre class="highlight swift"><code><span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">userCompletedAction</span><span class="p">(</span><span class="s">"your_custom_action"</span><span class="p">,</span> <span class="nv">withState</span><span class="p">:</span> <span class="p">[</span><span class="kt">String</span><span class="p">:</span> <span class="kt">String</span><span class="p">]())</span> <span class="c1">// same 63 characters max limit; replace [String: String]() with params dictionary</span>
</code></pre>

<p>Some example events you might want to track:</p>
<pre class="highlight objective_c"><code><span class="s">@"complete_purchase"</span>
<span class="s">@"wrote_message"</span>
<span class="s">@"finished_level_ten"</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>event</strong> <code>(NSString *)</code> <em>required</em>
: This is the event string you&rsquo;d like to send to Branch. You can view the attribution of which links drove events to occur in the analytics.</p>

<p><strong>state</strong> <code>(NSDictionary *)</code> <em>optional</em>
: If you&rsquo;d like to pass additional metadata along with the event, you should use this dictionary. For example, this is how you pass revenue into Branch using the BNCPurchaseAmount constant as a key.</p>
<h3 id='apple-search-ads' class='heading'>Apple Search Ads</h3>

<p>Branch can help track your Apple Search Ad campaigns by fetching the search ad attribution from
Apple at app install.  You can then use the parameters you&rsquo;ve set in the Apple Search Ad dashboard,
parameters such as the campaign name, and take special action in you app after an install, or simply
track the effectiveness of a campaign in the Branch dashboard, along with other your other Branch
statistics, such as total installs, referrals, and app link statistics.</p>
<li><p>External resources</p>

<ul>
<li><a href="https://searchads.apple.com/">Apple Search Ads</a></li>
<li><a href="https://developer.apple.com/app-store/search-ads/">Apple Search Ads for Developers</a></li>
<li><a href="https://developer.apple.com/videos/play/wwdc2016/302/">Apple Search Ads WWDC</a></li>
</ul></li>
<div class="aside aside-important">
    <p class="aside-title">Important</p>
    <p>You must add the iAd.framework to your project to enable Apple Search Ad checking.</p>

</div>
<h4 id='methods' class='heading'>Methods</h4>
<h5 id='code-void-delayinittocheckforsearchads-code' class='heading'><code>- (void) delayInitToCheckForSearchAds</code></h5>

<p>Call this method to enable checking for Apple Search Ads before Branch initialization.  This method
must be called before you initialize your Branch session.</p>

<p>Note that this will add about 1 second from call to initSession to callback due to Apple&rsquo;s latency.</p>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">delayInitToCheckForSearchAds</span><span class="p">];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="n">delayInitToCheckForSearchAds</span>
</code></pre>
<h5 id='code-void-setapplesearchadsdebugmode-code' class='heading'><code>- (void) setAppleSearchAdsDebugMode</code></h5>

<p>The <code>setAppleSearchAdsDebugMode</code> method sets the SDK into Apple Search Ad debug mode.  In this mode
fake campaign params are returned 100% of the time.  This is for testing only.</p>

<p>Warning: This should not be used in production.</p>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">setAppleSearchAdsDebugMode</span><span class="p">];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="n">setAppleSearchAdsDebugMode</span>
</code></pre>
<h3 id='enable-or-disable-user-tracking' class='heading'>Enable or Disable User Tracking</h3>

<p>In order to comply with tracking requirements, you can disable tracking at the SDK level. Simply call:</p>
<pre class="highlight objective_c"><code><span class="p">[</span><span class="n">Branch</span> <span class="nf">setTrackingDisabled</span><span class="p">:</span><span class="nb">YES</span><span class="p">];</span>
</code></pre>
<pre class="highlight swift"><code><span class="kt">Branch</span><span class="o">.</span><span class="nf">setTrackingDisabled</span><span class="p">(</span><span class="kc">true</span><span class="p">)</span>
</code></pre>

<p>This will prevent any Branch network requests from being sent, except when deep linking. If someone clicks a Branch link, but does not want to be tracked, we will return the deep linking data back to the app but without capturing any tracking information.</p>

<p>In do-not-track mode, you will still be able to create &amp; share links. The links will not have identifiable information and will be long format links. Event tracking won’t pass data back to the server if a user has expressed to not be tracked. You can change this behavior at any time by calling the above function. The trackingDisabled state is saved and persisted across app runs.</p>
<h2 id='branch-universal-object-for-deep-links-content-analytics-and-indexing' class='heading'>Branch Universal Object (for deep links, content analytics and indexing)</h2>

<p>As more methods have evolved in iOS, we&rsquo;ve found that it was increasingly hard to manage them all. We abstracted as many as we could into the concept of a Branch Universal Object. This is the object that is associated with the thing you want to share (content or user). You can set all the metadata associated with the object and then call action methods on it to get a link or index in Spotlight.</p>
<h3 id='branch-universal-object-best-practices' class='heading'>Branch Universal Object best practices</h3>

<p>Here are a set of best practices to ensure that your analytics are correct, and your content is ranking on Spotlight effectively.</p>

<ol>
<li>Set the <code>canonicalIdentifier</code> to a unique, de-duped value across instances of the app</li>
<li>Ensure that the <code>title</code>, <code>contentDescription</code> and <code>imageUrl</code> properly represent the object</li>
<li>Initialize the Branch Universal Object and call <code>userCompletedAction</code> with the <code>BNCRegisterViewEvent</code> <strong>on page load</strong></li>
<li>Call <code>showShareSheet</code> and <code>createShortLink</code> later in the life cycle, when the user takes an action that needs a link</li>
<li>Call the additional object events (purchase, share completed, etc) when the corresponding user action is taken</li>
<li>Set the <code>contentIndexMode</code> to <code>ContentIndexModePublic</code> or <code>ContentIndexModePrivate</code>. If BranchUniversalObject is set to <code>ContentIndexModePublic</code>, then content would indexed using <code>NSUserActivity</code>, or else content would be index using <code>CSSearchableIndex</code> on Spotlight.</li>
</ol>

<p>Note: Content indexed using <code>CSSearchableItem</code> could be removed from Spotlight but cannot be removed if indexed using <code>NSUserActivity</code>.</p>

<p>Practices to <em>avoid</em>:</p>

<ol>
<li>Don&rsquo;t set the same <code>title</code>, <code>contentDescription</code> and <code>imageUrl</code> across all objects.</li>
<li>Don&rsquo;t wait to initialize the object and register views until the user goes to share.</li>
<li>Don&rsquo;t wait to initialize the object until you conveniently need a link.</li>
<li>Don&rsquo;t create many objects at once and register views in a <code>for</code> loop.</li>
</ol>
<h3 id='branch-universal-object' class='heading'>Branch Universal Object</h3>
<h4 id='methods-and-properties' class='heading'>Methods and Properties</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="cp">#import "BranchUniversalObject.h"
</span></code></pre>
<pre class="highlight objective_c"><code><span class="n">BranchUniversalObject</span> <span class="o">*</span><span class="n">branchUniversalObject</span> <span class="o">=</span> <span class="p">[[</span><span class="n">BranchUniversalObject</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">initWithCanonicalIdentifier</span><span class="p">:</span><span class="s">@"item/12345"</span><span class="p">];</span>
<span class="n">branchUniversalObject</span><span class="p">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">@"My Content Title"</span><span class="p">;</span>
<span class="n">branchUniversalObject</span><span class="p">.</span><span class="n">contentDescription</span> <span class="o">=</span> <span class="s">@"My Content Description"</span><span class="p">;</span>
<span class="n">branchUniversalObject</span><span class="p">.</span><span class="n">imageUrl</span> <span class="o">=</span> <span class="s">@"https://example.com/mycontent-12345.png"</span><span class="p">;</span>
<span class="n">branchUniversalObject</span><span class="p">.</span><span class="n">contentMetadata</span><span class="p">.</span><span class="n">contentSchema</span> <span class="o">=</span> <span class="n">BranchContentSchemaCommerceProduct</span><span class="p">;</span>
<span class="n">branchUniversalObject</span><span class="p">.</span><span class="n">contentMetadata</span><span class="p">.</span><span class="n">customMetadata</span><span class="p">[</span><span class="s">@"property1"</span><span class="p">]</span> <span class="o">=</span> <span class="s">@"blue"</span><span class="p">;</span>
<span class="n">branchUniversalObject</span><span class="p">.</span><span class="n">contentMetadata</span><span class="p">.</span><span class="n">customMetadata</span><span class="p">[</span><span class="s">@"property2"</span><span class="p">]</span> <span class="o">=</span> <span class="s">@"red"</span><span class="p">;</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">branchUniversalObject</span><span class="p">:</span> <span class="kt">BranchUniversalObject</span> <span class="o">=</span> <span class="kt">BranchUniversalObject</span><span class="p">(</span><span class="nv">canonicalIdentifier</span><span class="p">:</span> <span class="s">"item/12345"</span><span class="p">)</span>
<span class="n">branchUniversalObject</span><span class="o">.</span><span class="n">title</span> <span class="o">=</span> <span class="s">"My Content Title"</span>
<span class="n">branchUniversalObject</span><span class="o">.</span><span class="n">contentDescription</span> <span class="o">=</span> <span class="s">"My Content Description"</span>
<span class="n">branchUniversalObject</span><span class="o">.</span><span class="n">imageUrl</span> <span class="o">=</span> <span class="s">"https://example.com/mycontent-12345.png"</span>
<span class="n">branchUniversalObject</span><span class="o">.</span><span class="n">contentMetadata</span><span class="o">.</span><span class="n">contentSchema</span> <span class="o">=</span> <span class="o">.</span><span class="n">product</span><span class="p">;</span>
<span class="n">branchUniversalObject</span><span class="o">.</span><span class="n">contentMetadata</span><span class="o">.</span><span class="n">customMetadata</span><span class="p">[</span><span class="s">"property1"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"blue"</span>
<span class="n">branchUniversalObject</span><span class="o">.</span><span class="n">contentMetadata</span><span class="o">.</span><span class="n">customMetadata</span><span class="p">[</span><span class="s">"property2"</span><span class="p">]</span> <span class="o">=</span> <span class="s">"red"</span>
</code></pre>
<h4 id='properties' class='heading'>Properties</h4>

<p><strong>canonicalIdentifier</strong>: This is the unique identifier for content that will help Branch de-dupe across many instances of the same thing. If you have a website with pathing, feel free to use that. Or if you have database identifiers for entities, use those.</p>

<p><strong>title</strong>: This is the name for the content and will automatically be used for the OG tags. It will insert <code>$og_title</code> into the data dictionary of any link created.</p>

<p><strong>contentDescription</strong>: This is the description for the content and will automatically be used for the OG tags. It will insert <code>$og_description</code> into the data dictionary of any link created.</p>

<p><strong>imageUrl</strong>: This is the image URL for the content and will automatically be used for the OG tags. It will insert <code>$og_image_url</code> into the data dictionary of any link created.</p>

<p><strong>keywords</strong>: Key words that describe the object. These are used for Spotlight search and web scraping so that users can find your content.</p>

<p><strong>locallyIndex</strong>: If set to true, Branch will index this content on Spotlight on the user&rsquo;s phone.</p>

<p><strong>publiclyIndex</strong>: If set to true, Branch will index this content on Google, Branch, etc.</p>

<p><strong>expirationDate</strong>: The date when the content will not longer be available or valid. Currently, this is only used for Spotlight indexing but will be used by Branch in the future.</p>

<p><strong>contentMetadata</strong>: Details that further describe your content. Set the properties of this sub-object depending on the type of content that is relevant to your content:</p>
<h4 id='branchuniversalobject-contentmetadata' class='heading'>BranchUniversalObject.contentMetadata</h4>

<p>The <code><a href="Classes/BranchUniversalObject.html#/c:objc(cs)BranchUniversalObject(py)contentMetadata">BranchUniversalObject.contentMetadata</a></code> properties further describe  your content. These properties are trackable in the Branch dashboard and will be automatically exported to your connected third-party app intelligence partners like Adjust or Mixpanel.</p>

<p>Set the properties of this sub-object depending on the type of content that is relevant to your content. The <code>BranchUniversalObject.contentMetadata.contentSchema</code> property describes the type of object content. Set other properties as is relevant to the type.</p>

<p><strong>contentMetadata.contentSchema</strong>: Set this property to a <code><a href="Type Definitions.html#/c:BranchUniversalObject.h@T@BranchContentSchema">BranchContentSchema</a></code> enum that best describes the content type. It accepts values like <code><a href="Constants.html#/c:@BranchContentSchemaCommerceProduct">BranchContentSchemaCommerceProduct</a></code> and <code><a href="Constants.html#/c:@BranchContentSchemaMediaImage">BranchContentSchemaMediaImage</a></code>.</p>

<p><strong>contentMetadata.customMetadata</strong>: This dictionary contains any extra parameters you&rsquo;d like to associate with the Branch Universal Object. These will be made available to you after the user clicks the link and opens up the app.</p>

<p><strong>contentMetadata.price</strong>: The price of the item to be used in conjunction with the commerce related events below.</p>

<p><strong>contentMetadata.currency</strong>: The currency representing the price in <a href="http://en.wikipedia.org/wiki/ISO_4217">ISO 4217 currency code</a>. The default is USD.</p>

<p><strong>contentMetadata.quantity</strong>: The quantity.</p>

<p><strong>contentMetadata.sku</strong>: The vendor SKU.</p>

<p><strong>contentMetadata.productName</strong>: Product name.</p>

<p><strong>contentMetadata.productBrand</strong>: Product brand.</p>

<p><strong>contentMetadata.productCategory</strong>: The <code><a href="Type Definitions.html#/c:BranchCommerce.h@T@BNCProductCategory">BNCProductCategory</a></code> value, such as <code><a href="Constants.html#/c:@BNCProductCategoryAnimalSupplies">BNCProductCategoryAnimalSupplies</a></code> or <code><a href="Constants.html#/c:@BNCProductCategoryFurniture">BNCProductCategoryFurniture</a></code>.</p>

<p><strong>contentMetadata.productVariant</strong>: The product variant.</p>

<p><strong>contentMetadata.condition</strong>: The <code><a href="Type Definitions.html#/c:BranchUniversalObject.h@T@BranchCondition">BranchCondition</a></code> value, such as <code><a href="Constants.html#/c:@BranchConditionNew">BranchConditionNew</a></code> or <code><a href="Constants.html#/c:@BranchConditionRefurbished">BranchConditionRefurbished</a></code>.</p>

<p><strong>ratingAverage, ratingCount, ratingMax</strong>: The rating for your content.</p>

<p><strong>addressStreet, addressCity, addressRegion, addressCountry, addressPostalCode</strong>: The address of your content.</p>

<p><strong>latitude, longitude</strong>: The longitude and latitude of your content.</p>

<p><strong>imageCaptions</strong>: Image captions for the content&rsquo;s images.</p>
<h3 id='tracking-user-interactions-with-an-object' class='heading'>Tracking User Interactions With An Object</h3>

<p>We&rsquo;ve added a series of custom events that you&rsquo;ll want to start tracking for rich analytics and targeting. Here&rsquo;s a list below with a sample snippet that calls the register view event.</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td>BranchStandardEventViewItem</td>
<td>User viewed the object</td>
</tr>
<tr>
<td>BranchStandardEventAddToWishlist</td>
<td>User added the object to their wishlist</td>
</tr>
<tr>
<td>BranchStandardEventAddToCart</td>
<td>User added object to cart</td>
</tr>
<tr>
<td>BranchStandardEventInitiatePurchase</td>
<td>User started to check out</td>
</tr>
<tr>
<td>BranchStandardEventPurchase</td>
<td>User purchased the item</td>
</tr>
<tr>
<td>BranchStandardEventShare</td>
<td>User completed a share</td>
</tr>
</tbody></table>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[</span><span class="n">branchUniversalObject</span> <span class="nf">userCompletedAction</span><span class="p">:</span><span class="n">BranchStandardEventViewItem</span><span class="p">];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="n">branchUniversalObject</span><span class="o">.</span><span class="nf">userCompletedAction</span><span class="p">(</span><span class="kt">BranchStandardEventViewItem</span><span class="p">)</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p>None</p>
<h4 id='returns' class='heading'>Returns</h4>

<p>None</p>
<h3 id='shortened-links' class='heading'>Shortened Links</h3>

<p>Once you&rsquo;ve created your <code>Branch Universal Object</code>, which is the reference to the content you&rsquo;re interested in, you can then get a link back to it with the mechanisms described below.</p>
<h4 id='encoding-note' class='heading'>Encoding Note</h4>

<p>One quick note about encoding. Since <code>NSJSONSerialization</code> supports a limited set of classes, we do some custom encoding to allow additional types. Current supported types include <code>NSDictionary</code>, <code>NSArray</code>, <code>NSURL</code>, <code>NSString</code>, <code>NSNumber</code>, <code>NSNull</code>, and <code>NSDate</code> (encoded as an ISO8601 string with timezone). If a parameter is of an unknown type, it will be ignored.</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="cp">#import "BranchLinkProperties.h"
</span></code></pre>
<pre class="highlight objective_c"><code><span class="n">BranchLinkProperties</span> <span class="o">*</span><span class="n">linkProperties</span> <span class="o">=</span> <span class="p">[[</span><span class="n">BranchLinkProperties</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">feature</span> <span class="o">=</span> <span class="s">@"sharing"</span><span class="p">;</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">channel</span> <span class="o">=</span> <span class="s">@"facebook"</span><span class="p">;</span>
<span class="p">[</span><span class="n">linkProperties</span> <span class="nf">addControlParam</span><span class="p">:</span><span class="s">@"$desktop_url"</span> <span class="nf">withValue</span><span class="p">:</span><span class="s">@"http://example.com/home"</span><span class="p">];</span>
<span class="p">[</span><span class="n">linkProperties</span> <span class="nf">addControlParam</span><span class="p">:</span><span class="s">@"$ios_url"</span> <span class="nf">withValue</span><span class="p">:</span><span class="s">@"http://example.com/ios"</span><span class="p">];</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="p">[</span><span class="n">branchUniversalObject</span> <span class="nf">getShortUrlWithLinkProperties</span><span class="p">:</span><span class="n">linkProperties</span> <span class="nf">andCallback</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">url</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"success getting url! %@"</span><span class="p">,</span> <span class="n">url</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">linkProperties</span><span class="p">:</span> <span class="kt">BranchLinkProperties</span> <span class="o">=</span> <span class="kt">BranchLinkProperties</span><span class="p">()</span>
<span class="n">linkProperties</span><span class="o">.</span><span class="n">feature</span> <span class="o">=</span> <span class="s">"sharing"</span>
<span class="n">linkProperties</span><span class="o">.</span><span class="n">channel</span> <span class="o">=</span> <span class="s">"facebook"</span>
<span class="n">linkProperties</span><span class="o">.</span><span class="nf">addControlParam</span><span class="p">(</span><span class="s">"$desktop_url"</span><span class="p">,</span> <span class="nv">withValue</span><span class="p">:</span> <span class="s">"http://example.com/home"</span><span class="p">)</span>
<span class="n">linkProperties</span><span class="o">.</span><span class="nf">addControlParam</span><span class="p">(</span><span class="s">"$ios_url"</span><span class="p">,</span> <span class="nv">withValue</span><span class="p">:</span> <span class="s">"http://example.com/ios"</span><span class="p">)</span>
</code></pre>
<pre class="highlight swift"><code><span class="n">branchUniversalObject</span><span class="o">.</span><span class="nf">getShortUrl</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">linkProperties</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
    <span class="k">if</span> <span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="kt">NSLog</span><span class="p">(</span><span class="s">"got my Branch link to share: %@"</span><span class="p">,</span> <span class="n">url</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='link-properties-parameters' class='heading'>Link Properties Parameters</h4>

<p><strong>channel</strong>: The channel for the link. Examples could be Facebook, Twitter, SMS, etc., depending on where it will be shared.</p>

<p><strong>feature</strong>: The feature the generated link will be associated with. Eg. <code>sharing</code>.</p>

<p><strong>controlParams</strong>: A dictionary to use while building up the Branch link. Here is where you specify custom behavior controls as described in the table below.</p>

<p>You can do custom redirection by inserting the following <em>optional keys in the dictionary</em>:</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><q>$fallback_url</q></td>
<td>Where to send the user for all platforms when app is not installed. Note that Branch will forward all robots to this URL, overriding any OG tags entered in the link.</td>
</tr>
<tr>
<td><q>$desktop_url</q></td>
<td>Where to send the user on a desktop or laptop. By default it is the Branch-hosted text-me service.</td>
</tr>
<tr>
<td><q>$android_url</q></td>
<td>The replacement URL for the Play Store to send the user if they don&rsquo;t have the app. <em>Only necessary if you want a mobile web splash</em>.</td>
</tr>
<tr>
<td><q>$ios_url</q></td>
<td>The replacement URL for the App Store to send the user if they don&rsquo;t have the app. <em>Only necessary if you want a mobile web splash</em>.</td>
</tr>
<tr>
<td><q>$ipad_url</q></td>
<td>Same as above, but for iPad Store.</td>
</tr>
<tr>
<td><q>$fire_url</q></td>
<td>Same as above, but for Amazon Fire Store.</td>
</tr>
<tr>
<td><q>$blackberry_url</q></td>
<td>Same as above, but for Blackberry Store.</td>
</tr>
<tr>
<td><q>$windows_phone_url</q></td>
<td>Same as above, but for Windows Store.</td>
</tr>
<tr>
<td><q>$after_click_url</q></td>
<td>When a user returns to the browser after going to the app, take them to this URL. <em>iOS only; Android coming soon</em>.</td>
</tr>
</tbody></table>

<p>You have the ability to control the direct deep linking of each link by inserting the following <em>optional keys in the dictionary</em>:</p>

<table><thead>
<tr>
<th>Key</th>
<th>Value</th>
</tr>
</thead><tbody>
<tr>
<td><q>$deeplink_path</q></td>
<td>The value of the deep link path that you&rsquo;d like us to append to your URI. For example, you could specify <q>$deeplink_path</q>: <q>radio/station/456</q> and we&rsquo;ll open the app with the URI <q>yourapp://radio/station/456?link_click_id=branch-identifier</q>. This is primarily for supporting legacy deep linking infrastructure.</td>
</tr>
<tr>
<td><q>$always_deeplink</q></td>
<td>true or false. (default is not to deep link first) This key can be specified to have our linking service force try to open the app, even if we&rsquo;re not sure the user has the app installed. If the app is not installed, we fall back to the respective app store or $platform_url key. By default, we only open the app if we&rsquo;ve seen a user initiate a session in your app from a Branch link (has been cookied and deep linked by Branch).</td>
</tr>
</tbody></table>

<p><strong>alias</strong>: The alias for a link. Eg. <code>myapp.com/customalias</code></p>

<p><strong>matchDuration</strong>: The attribution window in seconds for clicks coming from this link.</p>

<p><strong>stage</strong>: The stage used for the generated link, indicating what part of a funnel the user is in.</p>

<p><strong>tags</strong>: An array of tag strings to be associated with the link.</p>
<h4 id='get-short-url-parameters' class='heading'>Get Short Url Parameters</h4>

<p><strong>linkProperties</strong>: The link properties created above that describe the type of link you&rsquo;d like</p>

<p><strong>callback</strong>: The callback that is called with url on success, or an error if something went wrong. Note that we&rsquo;ll return a link 100% of the time. Either a short one if network was available or a long one if it was not.</p>
<h3 id='uiactivityview-share-sheet' class='heading'>UIActivityView Share Sheet</h3>

<p>UIActivityView is the standard way of allowing users to share content from your app. Once you&rsquo;ve created your <code>Branch Universal Object</code>, which is the reference to the content you&rsquo;re interested in, you can then automatically share it <em>without having to create a link</em> using the mechanism below.</p>

<p><strong>Sample UIActivityView Share Sheet</strong></p>

<p><img src="https://dev.branch.io/img/pages/getting-started/branch-universal-object/ios_share_sheet.png" alt="UIActivityView Share Sheet"></p>

<p>The Branch iOS SDK includes a wrapper on the UIActivityViewController, that will generate a Branch short URL and automatically tag it with the channel the user selects (Facebook, Twitter, etc.). Note that certain channels restrict access to certain fields. For example, Facebook prohibits you from pre-populating a message.</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="cp">#import "BranchLinkProperties.h"
</span></code></pre>
<pre class="highlight objective_c"><code><span class="n">BranchLinkProperties</span> <span class="o">*</span><span class="n">linkProperties</span> <span class="o">=</span> <span class="p">[[</span><span class="n">BranchLinkProperties</span> <span class="nf">alloc</span><span class="p">]</span> <span class="nf">init</span><span class="p">];</span>
<span class="n">linkProperties</span><span class="p">.</span><span class="n">feature</span> <span class="o">=</span> <span class="s">@"sharing"</span><span class="p">;</span>
<span class="p">[</span><span class="n">linkProperties</span> <span class="nf">addControlParam</span><span class="p">:</span><span class="s">@"$desktop_url"</span> <span class="nf">withValue</span><span class="p">:</span><span class="s">@"http://example.com/home"</span><span class="p">];</span>
<span class="p">[</span><span class="n">linkProperties</span> <span class="nf">addControlParam</span><span class="p">:</span><span class="s">@"$ios_url"</span> <span class="nf">withValue</span><span class="p">:</span><span class="s">@"http://example.com/ios"</span><span class="p">];</span>
</code></pre>
<pre class="highlight objective_c"><code><span class="p">[</span><span class="n">branchUniversalObject</span> <span class="nf">showShareSheetWithLinkProperties</span><span class="p">:</span><span class="n">linkProperties</span>
                                           <span class="nf">andShareText</span><span class="p">:</span><span class="s">@"Super amazing thing I want to share!"</span>
                                     <span class="n">fromViewController</span><span class="o">:</span><span class="n">self</span>
                                             <span class="n">completion</span><span class="o">:^</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span><span class="n">activityType</span><span class="p">,</span> <span class="n">BOOL</span> <span class="n">completed</span><span class="p">){</span>
    <span class="n">NSLog</span><span class="p">(</span><span class="s">@"finished presenting"</span><span class="p">);</span>
<span class="p">}];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="k">let</span> <span class="nv">linkProperties</span><span class="p">:</span> <span class="kt">BranchLinkProperties</span> <span class="o">=</span> <span class="kt">BranchLinkProperties</span><span class="p">()</span>
<span class="n">linkProperties</span><span class="o">.</span><span class="n">feature</span> <span class="o">=</span> <span class="s">"sharing"</span>
<span class="n">linkProperties</span><span class="o">.</span><span class="nf">addControlParam</span><span class="p">(</span><span class="s">"$desktop_url"</span><span class="p">,</span> <span class="nv">withValue</span><span class="p">:</span> <span class="s">"http://example.com/home"</span><span class="p">)</span>
<span class="n">linkProperties</span><span class="o">.</span><span class="nf">addControlParam</span><span class="p">(</span><span class="s">"$ios_url"</span><span class="p">,</span> <span class="nv">withValue</span><span class="p">:</span> <span class="s">"http://example.com/ios"</span><span class="p">)</span>
</code></pre>
<pre class="highlight swift"><code><span class="n">branchUniversalObject</span><span class="o">.</span><span class="nf">showShareSheet</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">linkProperties</span><span class="p">,</span>
                                     <span class="nv">andShareText</span><span class="p">:</span> <span class="s">"Super amazing thing I want to share!"</span><span class="p">,</span>
                                     <span class="nv">from</span><span class="p">:</span> <span class="k">self</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">activityType</span><span class="p">,</span> <span class="n">completed</span><span class="p">)</span> <span class="k">in</span>
    <span class="kt">NSLog</span><span class="p">(</span><span class="s">"done showing share sheet!"</span><span class="p">)</span>
<span class="p">}</span>
</code></pre>
<h4 id='show-share-sheet-parameters' class='heading'>Show Share Sheet Parameters</h4>

<p><strong>linkProperties</strong>: The feature the generated link will be associated with.</p>

<p><strong>andShareText</strong>: A dictionary to use while building up the Branch link.</p>

<p><strong>fromViewController</strong>:</p>

<p><strong>completion</strong>:</p>
<h4 id='further-customization' class='heading'>Further Customization</h4>

<p>The majority of share options only include one string of text, except email, which has a subject and a body. The share text will fill in the body and you can specify the email subject in the link properties as shown below.</p>
<pre class="highlight objective_c"><code><span class="p">[</span><span class="n">linkProperties</span> <span class="nf">addControlParam</span><span class="p">:</span><span class="s">@"$email_subject"</span> <span class="nf">withValue</span><span class="p">:</span><span class="s">@"This one weird trick."</span><span class="p">];</span>
</code></pre>
<pre class="highlight swift"><code><span class="n">linkProperties</span><span class="o">.</span><span class="nf">addControlParam</span><span class="p">(</span><span class="s">"$email_subject"</span><span class="p">,</span> <span class="nv">withValue</span><span class="p">:</span> <span class="s">"Therapists hate him."</span><span class="p">)</span>
</code></pre>

<p>You can also optionally add HTML to the email option and customize the link text. If the link text is left out, the url itself is used</p>
<pre class="highlight objective_c"><code><span class="p">[</span><span class="n">linkProperties</span> <span class="nf">addControlParam</span><span class="p">:</span><span class="s">@"$email_html_header"</span> <span class="nf">withValue</span><span class="p">:</span><span class="s">@"&lt;style&gt;your awesome CSS&lt;/style&gt;</span><span class="se">\n</span><span class="s">Or Dear Friend,"</span><span class="p">];</span>
<span class="p">[</span><span class="n">linkProperties</span> <span class="nf">addControlParam</span><span class="p">:</span><span class="s">@"$email_html_footer"</span> <span class="nf">withValue</span><span class="p">:</span><span class="s">@"Thanks!"</span><span class="p">];</span>
<span class="p">[</span><span class="n">linkProperties</span> <span class="nf">addControlParam</span><span class="p">:</span><span class="s">@"$email_html_link_text"</span> <span class="nf">withValue</span><span class="p">:</span><span class="s">@"Tap here"</span><span class="p">];</span>
</code></pre>
<pre class="highlight swift"><code><span class="n">linkProperties</span><span class="o">.</span><span class="nf">addControlParam</span><span class="p">(</span><span class="s">"$email_html_header"</span><span class="p">,</span> <span class="nv">withValue</span><span class="p">:</span> <span class="s">"&lt;style&gt;your awesome CSS&lt;/style&gt;</span><span class="se">\n</span><span class="s">Or Dear Friend,"</span><span class="p">)</span>
<span class="n">linkProperties</span><span class="o">.</span><span class="nf">addControlParam</span><span class="p">(</span><span class="s">"$email_html_footer"</span><span class="p">,</span> <span class="nv">withValue</span><span class="p">:</span> <span class="s">"Thanks!"</span><span class="p">)</span>
<span class="n">linkProperties</span><span class="o">.</span><span class="nf">addControlParam</span><span class="p">(</span><span class="s">"$email_html_link_text"</span><span class="p">,</span> <span class="nv">withValue</span><span class="p">:</span> <span class="s">"Tap here"</span><span class="p">)</span>
</code></pre>
<h4 id='changing-share-text-on-the-fly' class='heading'>Changing share text on the fly</h4>

<p>You can change the link shareText and other link parameters based on the choice the user makes on the sharesheet activity.  First, set the <code>BranchShareLink</code> delegate with an object that follows the <code>BranchShareLinkDelegate</code> protocol.</p>

<p>The optional <code>- (void) branchShareLinkWillShare:</code> delegate method will be called just after the user selects a share action, like share by email for instance, and before the share action is shown to the user, like when the email composer is shown to the user with the share text. This is an ideal time to change the share text based on the user action.</p>

<p>The optional <code>- (void) branchShareLink:didComplete:withError:</code> delegate method will be called after the user has completed the share action.  The <code>didComplete</code> boolean will be <code>YES</code> if the user shared the item, and <code>NO</code> if the user cancelled.  The <code>error</code> value will indicate any errors that may have occurred.</p>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="k">@interface</span> <span class="nc">ViewController</span> <span class="p">()</span> <span class="o">&lt;</span><span class="n">BranchShareLinkDelegate</span><span class="o">&gt;</span>
</code></pre>

<p>Override the branchShareLinkWillShare function to change your shareText</p>
<pre class="highlight objective_c"><code><span class="k">-</span> <span class="p">(</span><span class="kt">void</span><span class="p">)</span> <span class="nf">branchShareLinkWillShare</span><span class="p">:(</span><span class="n">BranchShareLink</span><span class="o">*</span><span class="p">)</span><span class="nv">shareLink</span> <span class="p">{</span>
    <span class="c1">// Link properties, such as alias or channel can be overridden here based on the users'
</span>    <span class="c1">// choice stored in shareSheet.activityType.
</span>    <span class="n">shareLink</span><span class="p">.</span><span class="n">shareText</span> <span class="o">=</span> <span class="p">[</span><span class="n">NSString</span> <span class="nf">stringWithFormat</span><span class="p">:</span>
        <span class="s">@"Shared through '%@'</span><span class="se">\n</span><span class="s">from Branch's Branch-TestBed</span><span class="se">\n</span><span class="s">at %@."</span><span class="p">,</span>
        <span class="n">shareLink</span><span class="p">.</span><span class="n">linkProperties</span><span class="p">.</span><span class="n">channel</span><span class="p">,</span>
        <span class="p">[</span><span class="n">self</span><span class="p">.</span><span class="n">dateFormatter</span> <span class="nf">stringFromDate</span><span class="p">:[</span><span class="n">NSDate</span> <span class="nf">date</span><span class="p">]]];</span>
<span class="p">}</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kd">class</span> <span class="kt">ViewController</span><span class="p">:</span> <span class="kt">UITableViewController</span><span class="p">,</span> <span class="kt">BranchShareLinkDelegate</span>
</code></pre>

<p>Override the branchShareLinkWillShare function to change your shareText</p>
<pre class="highlight swift"><code><span class="kd">func</span> <span class="nf">branchShareLinkWillShare</span><span class="p">(</span><span class="n">_</span> <span class="nv">shareLink</span><span class="p">:</span> <span class="kt">BranchShareLink</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Link properties, such as alias or channel can be overridden here based on the users'</span>
    <span class="c1">// choice stored in shareSheet.activityType.</span>
    <span class="n">shareLink</span><span class="o">.</span><span class="n">shareText</span> <span class="o">=</span>
        <span class="s">"Shared through '</span><span class="se">\(</span><span class="n">shareLink</span><span class="o">.</span><span class="n">linkProperties</span><span class="o">.</span><span class="n">channel</span><span class="o">!</span><span class="se">)</span><span class="s">'</span><span class="se">\n</span><span class="s">from Branch's TestBed-Swift"</span> <span class="o">+</span>
        <span class="s">"</span><span class="se">\n</span><span class="s">at </span><span class="se">\(</span><span class="k">self</span><span class="o">.</span><span class="nf">dateFormatter</span><span class="p">()</span><span class="o">.</span><span class="nf">string</span><span class="p">(</span><span class="nv">from</span><span class="p">:</span> <span class="kt">Date</span><span class="p">())</span><span class="se">)</span><span class="s">."</span>
<span class="p">}</span>
</code></pre>
<h4 id='returns' class='heading'>Returns</h4>

<p>None</p>
<h3 id='list-content-on-spotlight' class='heading'>List Content On Spotlight</h3>

<p>If you&rsquo;d like to list your Branch Universal Object in Spotlight local and cloud index, this is the method you&rsquo;ll call. You&rsquo;ll want to register views every time the page loads as this contributes to your global ranking in search.</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="n">branchUniversalObject</span><span class="p">.</span><span class="n">automaticallyListOnSpotlight</span> <span class="o">=</span> <span class="nb">YES</span><span class="p">;</span>
<span class="p">[</span><span class="n">branchUniversalObject</span> <span class="nf">userCompletedAction</span><span class="p">:</span><span class="n">BranchStandardEventViewItem</span><span class="p">];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="n">branchUniversalObject</span><span class="o">.</span><span class="n">automaticallyListOnSpotlight</span> <span class="o">=</span> <span class="kc">true</span>
<span class="n">branchUniversalObject</span><span class="o">.</span><span class="nf">userCompletedAction</span><span class="p">(</span><span class="kt">BranchStandardEventViewItem</span><span class="p">)</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>callback</strong>: Will return the URL that was used to list the content in Spotlight if you&rsquo;d like to store it for your own records.</p>
<h4 id='returns' class='heading'>Returns</h4>

<p>None</p>
<h3 id='list-content-on-spotlight-with-link-properties' class='heading'>List Content On Spotlight with Link properties</h3>

<p>If you&rsquo;d like to list your Branch Universal Object with link properties in Spotlight local and cloud index, this is the method you&rsquo;ll call. You&rsquo;ll want to register views every time the page loads as this contributes to your global ranking in search.</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[</span><span class="n">universalObject</span> <span class="nf">listOnSpotlightWithLinkProperties</span><span class="p">:</span><span class="n">linkProperties</span> <span class="nf">callback</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSString</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">url</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
         <span class="n">NSLog</span><span class="p">(</span><span class="s">@"Successfully indexed on spotlight"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="n">universalObject</span><span class="o">.</span><span class="nf">listOnSpotlight</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="n">linkProperty</span><span class="p">)</span> <span class="p">{</span> <span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"Successfully indexed on spotlight"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>callback</strong>: Will return the URL that was used to list the content in Spotlight if you&rsquo;d like to store it for your own records.</p>
<h4 id='returns' class='heading'>Returns</h4>

<p>None</p>
<h3 id='list-multiple-branch-universal-objects-on-spotlight-using-cssearchableindex' class='heading'>List Multiple Branch Universal Objects On Spotlight using CSSearchableIndex</h3>

<p>Call this method on the Branch shared instance to list multiple Branch Universal Objects in Spotlight:</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">indexOnSpotlightUsingSearchableItems</span><span class="p">:</span><span class="n">universalObjects</span>
                                                    <span class="nf">completion</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSArray</span><span class="o">&lt;</span><span class="n">BranchUniversalObject</span> <span class="o">*&gt;</span> <span class="o">*</span><span class="n">universalObjects</span><span class="p">,</span>
                                                                 <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="c1">// Successfully able to index all the BUO on spotloght
</span>        <span class="p">}</span>
    <span class="p">}];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">indexOnSpotlight</span><span class="p">(</span><span class="nv">usingSearchableItems</span><span class="p">:</span> <span class="n">universalObjects</span><span class="p">,</span>
                                                <span class="nv">completion</span><span class="p">:</span> <span class="p">{</span> <span class="p">(</span><span class="n">universalObjects</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
      <span class="k">if</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
           <span class="c1">// Successfully able to index all the BUO on spotloght</span>
      <span class="p">}</span>
<span class="p">})</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>universalObjects</strong>: An array of all the Branch Universal Object that would indexed using <code>CSSearchableIdex</code></p>

<p><strong>completion</strong>: Will return Branch Universal Object with dynamic urls as Spotlight identifier when indexing completes.</p>
<h4 id='returns' class='heading'>Returns</h4>

<p>None</p>
<h3 id='remove-branch-universal-object-from-spotlight-if-privately-indexed' class='heading'>Remove Branch Universal Object from Spotlight if privately indexed</h3>

<p>Privately indexed Branch Universal Object can be removed from spotlight</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[</span><span class="n">universalObject</span> <span class="nf">removeFromSpotlightWithCallback</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span> <span class="n">_Nullable</span> <span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">NSLog</span><span class="p">(</span><span class="s">@"universal Object removed from spotlight"</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="n">universalObject</span><span class="o">.</span><span class="n">removeFromSpotlight</span> <span class="p">{</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="k">in</span>
            <span class="k">if</span><span class="p">(</span><span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
                <span class="nf">print</span><span class="p">(</span><span class="s">"BUO successfully removed"</span><span class="p">)</span>
            <span class="p">}</span>
        <span class="p">}</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>Callback</strong>: Will return once Branch Universal Object is removed from spotlight. If spotlight is removed, the spotlightIdentifier variable of Branch Universal Object would be nil.</p>
<h4 id='returns' class='heading'>Returns</h4>

<p>None</p>
<h3 id='remove-multiple-branch-universal-objects-from-spotlight-if-privately-indexed' class='heading'>Remove multiple Branch Universal Objects from Spotlight if privately indexed</h3>

<p>Privately indexed multiple Branch Universal Objects can be removed from spotlight</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">removeSearchableItemsWithBranchUniversalObjects</span><span class="p">:@[</span><span class="n">BUO1</span><span class="p">,</span><span class="n">BUO2</span><span class="p">]</span> <span class="nf">callback</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">NSLog</span><span class="p">(</span><span class="s">@"An array of BUOs removed from spotlight"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}]</span>

</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">removeSearchableItems</span><span class="p">(</span><span class="nv">with</span><span class="p">:</span> <span class="p">[</span><span class="kt">BUO1</span><span class="p">,</span><span class="kt">BUO2</span><span class="p">])</span> <span class="p">{</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="k">in</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"An array of BUOs removed from spotlight"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>Callback</strong>: Will return once all Branch Universal Object is removed from spotlight. If spotlight is removed, the spotlightIdentifier variable of all Branch Universal Object would be nil.</p>
<h4 id='returns' class='heading'>Returns</h4>

<p>None</p>
<h3 id='remove-all-branch-universal-objects-from-spotlight-if-privately-indexed' class='heading'>Remove all Branch Universal Objects from Spotlight if privately indexed</h3>

<p>All Privately indexed Branch Universal Objects can be removed from spotlight</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">removeAllPrivateContentFromSpotLightWithCallback</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="n">NSLog</span><span class="p">(</span><span class="s">@"All branch privately indexed content removed from spotlight"</span><span class="p">);</span>
    <span class="p">}</span>
<span class="p">}];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="n">removeAllPrivateContentFromSpotLight</span> <span class="p">{</span> <span class="p">(</span><span class="n">error</span><span class="p">)</span> <span class="k">in</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span><span class="p">)</span> <span class="p">{</span>
        <span class="nf">print</span><span class="p">(</span><span class="s">"All branch privately indexed content removed from spotlight"</span><span class="p">)</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>Callback</strong>: Will return once all Branch Universal Object is removed from spotlight.
Note: SpotlightIdentifer would not be nil of all the Branch Universal Object been removed from spotlight as Branch SDK doesn&rsquo;t cache the Branch Universal Objects.</p>
<h4 id='returns' class='heading'>Returns</h4>

<p>None</p>
<h2 id='referral-system-rewarding-functionality' class='heading'>Referral System Rewarding Functionality</h2>
<h3 id='get-reward-balance' class='heading'>Get Reward Balance</h3>

<p>Reward balances change randomly on the backend when certain actions are taken (defined by your rules), so you&rsquo;ll need to make an asynchronous call to retrieve the balance. Here is the syntax:</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">loadRewardsWithCallback</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">BOOL</span> <span class="n">changed</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// changed boolean will indicate if the balance changed from what is currently in memory
</span>
    <span class="c1">// will return the balance of the current user's credits
</span>    <span class="n">NSInteger</span> <span class="n">credits</span> <span class="o">=</span> <span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">getCredits</span><span class="p">];</span>
<span class="p">}];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="n">loadRewards</span> <span class="p">{</span> <span class="p">(</span><span class="n">changed</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
    <span class="c1">// changed boolean will indicate if the balance changed from what is currently in memory</span>

    <span class="c1">// will return the balance of the current user's credits</span>
    <span class="k">let</span> <span class="nv">credits</span> <span class="o">=</span> <span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">getCredits</span><span class="p">()</span>
<span class="p">}</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>callback</strong>: The callback that is called once the request has completed.</p>
<h3 id='redeem-all-or-some-of-the-reward-balance-store-state' class='heading'>Redeem All or Some of the Reward Balance (Store State)</h3>

<p>Redeeming credits allows users to cash in the credits they&rsquo;ve earned. Upon successful redemption, the user&rsquo;s balance will be updated reflecting the deduction.</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="c1">// Save that the user has redeemed 5 credits
</span><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">redeemRewards</span><span class="p">:</span><span class="mi">5</span><span class="p">];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="c1">// Save that the user has redeemed 5 credits</span>
<span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="nf">redeemRewards</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
</code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>amount</strong>: The number of credits being redeemed.</p>
<h3 id='get-credit-history' class='heading'>Get Credit History</h3>

<p>This call will retrieve the entire history of credits and redemptions from the individual user. To use this call, implement like so:</p>
<h4 id='methods' class='heading'>Methods</h4>
<h6 id='objective-c' class='heading'>Objective-C</h6>
<pre class="highlight objective_c"><code><span class="p">[[</span><span class="n">Branch</span> <span class="nf">getInstance</span><span class="p">]</span> <span class="nf">getCreditHistoryWithCallback</span><span class="p">:</span><span class="o">^</span><span class="p">(</span><span class="n">NSArray</span> <span class="o">*</span><span class="n">history</span><span class="p">,</span> <span class="n">NSError</span> <span class="o">*</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="n">error</span><span class="p">)</span> <span class="p">{</span>
        <span class="c1">// process history
</span>    <span class="p">}</span>
<span class="p">}];</span>
</code></pre>
<h6 id='swift' class='heading'>Swift</h6>
<pre class="highlight swift"><code><span class="kt">Branch</span><span class="o">.</span><span class="nf">getInstance</span><span class="p">()</span><span class="o">.</span><span class="n">getCreditHistory</span> <span class="p">{</span> <span class="p">(</span><span class="n">creditHistory</span><span class="p">,</span> <span class="n">error</span><span class="p">)</span> <span class="k">in</span>
    <span class="k">if</span> <span class="n">error</span> <span class="o">==</span> <span class="kc">nil</span> <span class="p">{</span>
        <span class="c1">// process history</span>
    <span class="p">}</span>
<span class="p">}</span>
</code></pre>

<p>The response will return an array that has been parsed from the following JSON:</p>
<pre class="highlight json"><code><span class="p">[</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                           </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-14T01:54:40.425Z"</span><span class="p">,</span><span class="w">
                           </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50388077461373184"</span><span class="p">,</span><span class="w">
                           </span><span class="s2">"bucket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
                           </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">0</span><span class="p">,</span><span class="w">
                           </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="w">
                       </span><span class="p">},</span><span class="w">
        </span><span class="s2">"event"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">your</span><span class="w"> </span><span class="err">event</span><span class="w"> </span><span class="err">metadata</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">present</span><span class="w"> </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678"</span><span class="p">,</span><span class="w">
        </span><span class="s2">"referree"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="p">{</span><span class="w">
        </span><span class="s2">"transaction"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
                           </span><span class="s2">"date"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2014-10-14T01:55:09.474Z"</span><span class="p">,</span><span class="w">
                           </span><span class="s2">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"50388199301710081"</span><span class="p">,</span><span class="w">
                           </span><span class="s2">"bucket"</span><span class="p">:</span><span class="w"> </span><span class="s2">"default"</span><span class="p">,</span><span class="w">
                           </span><span class="s2">"type"</span><span class="p">:</span><span class="w"> </span><span class="mi">2</span><span class="p">,</span><span class="w">
                           </span><span class="s2">"amount"</span><span class="p">:</span><span class="w"> </span><span class="mi">-3</span><span class="w">
                       </span><span class="p">},</span><span class="w">
        </span><span class="s2">"event"</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
            </span><span class="s2">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"event name"</span><span class="p">,</span><span class="w">
            </span><span class="s2">"metadata"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w"> </span><span class="err">your</span><span class="w"> </span><span class="err">event</span><span class="w"> </span><span class="err">metadata</span><span class="w"> </span><span class="err">if</span><span class="w"> </span><span class="err">present</span><span class="w"> </span><span class="p">}</span><span class="w">
        </span><span class="p">},</span><span class="w">
        </span><span class="s2">"referrer"</span><span class="p">:</span><span class="w"> </span><span class="kc">null</span><span class="p">,</span><span class="w">
        </span><span class="s2">"referree"</span><span class="p">:</span><span class="w"> </span><span class="s2">"12345678"</span><span class="w">
    </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre>
<h4 id='parameters' class='heading'>Parameters</h4>

<p><strong>referrer</strong>
: The id of the referring user for this credit transaction. Returns null if no referrer is involved. Note this id is the user id in a developer&rsquo;s own system that&rsquo;s previously passed to Branch&rsquo;s identify user API call.</p>

<p><strong>referree</strong>
: The id of the user who was referred for this credit transaction. Returns null if no referree is involved. Note this id is the user id in a developer&rsquo;s own system that&rsquo;s previously passed to Branch&rsquo;s identify user API call.</p>

<p><strong>type</strong>
: This is the type of credit transaction.</p>

<ol>
<li><em>0</em> - A reward that was added automatically by the user completing an action or promo.</li>
<li><em>1</em> - A reward that was added manually.</li>
<li><em>2</em> - A redemption of credits that occurred through our API or SDKs.</li>
<li><em>3</em> - This is a very unique case where we will subtract credits automatically when we detect fraud.</li>
</ol>

          </section>
        </section>
        <section id="footer">
          <p>Copyright © 2018 Branch. All rights reserved.</p>
          <p>Generated by <a class="link" href="https://github.com/realm/jazzy" target="_blank" rel="external">jazzy ♪♫ v0.9.3</a>, a <a class="link" href="https://realm.io" target="_blank" rel="external">Realm</a> project.</p>
        </section>
      </article>
    </div>
  </body>
</div>
</html>
